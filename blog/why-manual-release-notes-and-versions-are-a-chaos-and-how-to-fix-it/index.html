<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Why manual Release Notes and Versions are a chaos and how to fix it | Vue &amp; Node admin panel framework</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://adminforth.dev/blog/why-manual-release-notes-and-versions-are-a-chaos-and-how-to-fix-it/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Why manual Release Notes and Versions are a chaos and how to fix it | Vue &amp; Node admin panel framework"><meta data-rh="true" name="description" content="Learn what profits you can get from automatic versioning and learn how simply you can configure it!"><meta data-rh="true" property="og:description" content="Learn what profits you can get from automatic versioning and learn how simply you can configure it!"><meta data-rh="true" property="og:image" content="https://adminforth.dev/ogs/autover.jpg"><meta data-rh="true" name="twitter:image" content="https://adminforth.dev/ogs/autover.jpg"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2025-01-19T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/ivictbor"><meta data-rh="true" property="article:tag" content="Git,Versioning,NPM"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://adminforth.dev/blog/why-manual-release-notes-and-versions-are-a-chaos-and-how-to-fix-it/"><link data-rh="true" rel="alternate" href="https://adminforth.dev/blog/why-manual-release-notes-and-versions-are-a-chaos-and-how-to-fix-it/" hreflang="en"><link data-rh="true" rel="alternate" href="https://adminforth.dev/blog/why-manual-release-notes-and-versions-are-a-chaos-and-how-to-fix-it/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://VSIPOF54AV-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://adminforth.dev/blog/why-manual-release-notes-and-versions-are-a-chaos-and-how-to-fix-it","mainEntityOfPage":"https://adminforth.dev/blog/why-manual-release-notes-and-versions-are-a-chaos-and-how-to-fix-it","url":"https://adminforth.dev/blog/why-manual-release-notes-and-versions-are-a-chaos-and-how-to-fix-it","headline":"Why manual Release Notes and Versions are a chaos and how to fix it","name":"Why manual Release Notes and Versions are a chaos and how to fix it","description":"Learn what profits you can get from automatic versioning and learn how simply you can configure it!","datePublished":"2025-01-19T00:00:00.000Z","author":{"@type":"Person","name":"Ivan Borshchov","description":"Maintainer of AdminForth","url":"https://github.com/ivictbor","image":"https://avatars.githubusercontent.com/u/1838656?v=4"},"image":{"@type":"ImageObject","@id":"https://adminforth.dev/ogs/autover.jpg","url":"https://adminforth.dev/ogs/autover.jpg","contentUrl":"https://adminforth.dev/ogs/autover.jpg","caption":"title image for the blog post: Why manual Release Notes and Versions are a chaos and how to fix it"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://adminforth.dev/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Vue &amp; Node admin panel framework RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Vue &amp; Node admin panel framework Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7K99Q2BH04"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-7K99Q2BH04",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Vue &amp; Node admin panel framework" href="/opensearch.xml">

<script src="/scripts/adminforth.js"></script><link rel="stylesheet" href="/assets/css/styles.ba19fe4b.css">
<script src="/assets/js/runtime~main.22179fcd.js" defer="defer"></script>
<script src="/assets/js/main.0e79144c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="AdminForth Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="AdminForth Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">AdminForth</b></a><a class="navbar__item navbar__link" href="/docs/tutorial/gettingStarted/">Tutorial</a><a class="navbar__item navbar__link" href="/docs/api/">API</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a href="https://demo.adminforth.dev/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Live Demo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/devforth/adminforth" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/context7-setup-vscode/">How to set up Context7 MCP in Visual Studio Code</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/dynamic-strings-translation/">How to translate dynamic strings in AdminForth API</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/keycloak-setup-example/">Setup AdminForth Authorization via Keycloak</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/compose-aws-ec2-ecr-terraform-github-actions/">IaaC Simplified: Amazon EC2 Deployments with GitHub Actions, Terraform, Docker &amp; Amazon ECR</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/compose-ec2-deployment-github-actions-registry/">Amazon EC2 Deployments with GitHub Actions, Terraform, Docker &amp; Self-hosted Registry</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_f1Hy">Why manual Release Notes and Versions are a chaos and how to fix it</h1><div class="container_mt6G margin-vert--md"><time datetime="2025-01-19T00:00:00.000Z">January 19, 2025</time> · <!-- -->14 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/ivictbor" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/1838656?v=4" alt="Ivan Borshchov"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/ivictbor" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Ivan Borshchov</span></a></div><small class="authorTitle_nd0D" title="Maintainer of AdminForth">Maintainer of AdminForth</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>I have a feeling that after first ~600 versions of Adminforth we faced all possible issues with manual versioning and release notes.</p>
<p>Manual versioning and CHANGELOG.md is unreliable as human beings are. It is pretty easy to forget it with relevant information, forget to include some changes, forget to push it to GitHub, push it at wrong time, and many more things.</p>
<p>That is why we decided to move the idea of generating versions, and GitHub releases from git commit messages using great tool called <a href="https://semantic-release.gitbook.io/semantic-release/usage/configuration" target="_blank" rel="noopener noreferrer">semantic-release</a>.</p>
<p>In this post I will explain why we did a transition from manual releases to automatic, what profits we got from it, and also will show you simple example how to do it in your project!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prehistory-and-issues">Prehistory and issues<a href="#prehistory-and-issues" class="hash-link" aria-label="Direct link to Prehistory and issues" title="Direct link to Prehistory and issues">​</a></h2>
<p>Before 1.6.0 AdminForth was using manual CHANGELOG.md.</p>
<p>During development we were reviwing PRs, merged them all to <code>main</code> branch, pulled to local machine and there did manually npm release which also created a git tag and pushed it to GitHub.</p>
<p>We were constantly releasing to <code>next</code> pre-release version from <code>main</code> and used <code>next</code> internally on our projets for testing.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-npm-pre-release-version">What is npm pre-release version?<a href="#what-is-npm-pre-release-version" class="hash-link" aria-label="Direct link to What is npm pre-release version?" title="Direct link to What is npm pre-release version?">​</a></h3>
<p>If you are not familiar with pre-release versions, I can explain it on simple example.</p>
<p>If you have version <code>1.2.3</code> in your <code>package.json</code> and you run <code>npm version patch</code> it will bump version to <code>1.2.4</code>. If you run it again it will bump version to <code>1.2.5</code>.
If you have version <code>1.2.3</code> and run <code>npm version prerelease --preid=next</code> it will bump version to <code>1.2.4-next.0</code>. If you run it again it will bump version to <code>1.2.4-next.1</code>. If you run <code>npm version patch</code> now it will release version <code>1.2.4</code>, hoever if at last step you run <code>npm version minor</code> it would release version <code>1.3.0</code>.</p>
<p>Please pay attention that <code>npm</code> is pretty smart and aligned with normal software release cycle – once you run <code>npm version pre-release</code> on stable version, it understands that you start working on new version and will bump patch version. Once you run <code>npm version patch</code> at pre-release version, it will release it as stable version without bumping patch number.</p>
<p>This is very useful because we can collect features and fixes in <code>next</code> version without releasing them to <code>latest</code> version, so users who do <code>npm install adminforth</code> will not get new experimental features and fixes, but thouse who want to test them early can do <code>npm install adminforth@next</code>. Our team also using <code>next</code> for commercial projects to test new features so in the end of the day we have more stable <code>latest</code> version.</p>
<p>In new automatic release process we preserved this approach, but made it in separate git branches.</p>
<p>Once we collected enough features and fixes in <code>next</code>, we were doing a release to <code>latest</code> version, and at this time we did release documentation.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="issue-one-easy-to-forget-add-something-to-changelogmd">Issue one: easy to forget add something to CHANGELOG.md<a href="#issue-one-easy-to-forget-add-something-to-changelogmd" class="hash-link" aria-label="Direct link to Issue one: easy to forget add something to CHANGELOG.md" title="Direct link to Issue one: easy to forget add something to CHANGELOG.md">​</a></h3>
<p>So when I merged PRs to <code>main</code> branch, I had to check commits and write them to CHANGELOG.md.</p>
<p>At this point I wasted time to understand how to call the change in CHANGELOG.md, and categorize it as <code>Added</code>, <code>Changed</code>, <code>Fixed</code>, <code>Removed</code>, <code>Security</code>.</p>
<p>Also there was a chance that I will skip some commit, or will understand wrong what it was about.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="issue-two-changelogmd-might-be-forgot-to-be-changed-before-release-as-all">Issue two: CHANGELOG.md might be forgot to be changed before release as all<a href="#issue-two-changelogmd-might-be-forgot-to-be-changed-before-release-as-all" class="hash-link" aria-label="Direct link to Issue two: CHANGELOG.md might be forgot to be changed before release as all" title="Direct link to Issue two: CHANGELOG.md might be forgot to be changed before release as all">​</a></h3>
<p>There was a chance that I will forget to update <code>CHANGELOG.md</code> at all. I merged PRs, I am hurry and doing release.</p>
<p>Sometimes I will soon understand that I forgot to update it and will push it to GitHub. It will born another dump commit message like &quot;Update a CHANGELOG.md&quot;.</p>
<p>Also I am not sure that users are looking into <code>main</code> branch to see CHANGELOG, probably they see it in npmjs.com.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="issue-three-lack-of-github-releases-or-need-to-maintain-both">Issue three: lack of GitHub releases or need to maintain both<a href="#issue-three-lack-of-github-releases-or-need-to-maintain-both" class="hash-link" aria-label="Direct link to Issue three: lack of GitHub releases or need to maintain both" title="Direct link to Issue three: lack of GitHub releases or need to maintain both">​</a></h3>
<p>We did not have GitHub releases at all at that time. We had only tags. And tags were applied only after release.</p>
<p>But honestly, when I am by myself working with some pacakge, first try to find GitHub releases, though CHANGELOG.md.</p>
<p>So if I would add GitHub releases, I would have to do a lot of clicks or would need some script / CLI to create release notes. This process would have similar issues as with CHANGELOG.md.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="issue-four-manual-tags">Issue four: manual tags<a href="#issue-four-manual-tags" class="hash-link" aria-label="Direct link to Issue four: manual tags" title="Direct link to Issue four: manual tags">​</a></h3>
<p>Since release was manual from my PC there was a chance that I will do some minor fix, will forget to commit it, then will do release and release script will add tag to previous, irrelevant commit.</p>
<p>In such projects with manual tags, there is only one reliabile way for package user to to check what is difference in source code between two versions: using some tool like <a href="https://npmdiff.dev/" target="_blank" rel="noopener noreferrer">https://npmdiff.dev/</a> and not rely on git and CHANGELOG</p>
<p>Since git tags were applied only after release and there again was a chance that I will forget to push them to GitHub with a release.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="issue-five-dump-commits">Issue five: dump commits<a href="#issue-five-dump-commits" class="hash-link" aria-label="Direct link to Issue five: dump commits" title="Direct link to Issue five: dump commits">​</a></h3>
<p>Since with every manual release we updated CHANGELOG.md and updated version in <code>pacakge.json</code> every time, we had to do a commit.</p>
<p>So it borned a lot of dump commits like &quot;Update CHANGELOG.md&quot;, &quot;Update version to 1.2.3&quot;, &quot;Update version to 1.2.4&quot;, &quot;Update version to 1.2.5&quot;.</p>
<p>Sometime it wass forgot to be commited separately and was commited with other changes in some fix which is even worsen.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="issue-six-releae-delay-and-bus-factor">Issue six: releae delay and bus-factor<a href="#issue-six-releae-delay-and-bus-factor" class="hash-link" aria-label="Direct link to Issue six: releae delay and bus-factor" title="Direct link to Issue six: releae delay and bus-factor">​</a></h3>
<p>So if I was busy new features were waiting for release, becuase only I had access to do releases.</p>
<p>Sonner I passed access to some of my colleagues to do releases but from time to time it caused state desync and release issues between our PCs if someone forgot to push something to GitHub after release.</p>
<p>Even couple of release contrubuters are onboard, it still takes a time to do all the stuff with Changelog, version, tags, etc, so it delays release.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="issue-seven-lack-of-pre-release-versions-changes">Issue seven: lack of pre-release versions changes<a href="#issue-seven-lack-of-pre-release-versions-changes" class="hash-link" aria-label="Direct link to Issue seven: lack of pre-release versions changes" title="Direct link to Issue seven: lack of pre-release versions changes">​</a></h3>
<p>While we releasing to <code>next</code> we added items under one version in CHANGELOG for simplicity. It would be another extra time to add every <code>next</code> version in CHANGELOG and describe whole markdown for it.</p>
<p>So user was not able to distinguish <code>1.5.0-next.0</code> from <code>1.5.0-next.1</code> in CHANGELOG, which was not an issue for <code>latest</code> users but issue for <code>next</code> users.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="semantic-release-what-is-it-and-how-it-works">Semantic-release: what is it and how it works<a href="#semantic-release-what-is-it-and-how-it-works" class="hash-link" aria-label="Direct link to Semantic-release: what is it and how it works" title="Direct link to Semantic-release: what is it and how it works">​</a></h2>
<p><code>semantic-release</code> is a tool that solved all issues above. Basically it is a CLI tool that you run on your CI/CD server on every push to your repository.</p>
<p>So on every push it analyzes commit messages from previous release and does next things:</p>
<ul>
<li>It understands what type of release it should do: major, minor, patch, pre-release depending on commit messages. E.g. if you have a commit message <code>feat: add new feature</code> it will do a minor release, if you have <code>fix: fix bug</code> it will do a patch release.</li>
<li>It reads previous version from git tags and does a new version based on type of release. So it does not edit <code>package.json</code> file.</li>
<li>It generates a GitHub tag and release notes based on commit messages. So you do not need to write CHANGELOG.md anymore.</li>
<li>It publishes a new version to npmjs.com. So you do not need to do <code>npm publish</code> anymore.</li>
<li>It is capable to release to <code>next</code> channel from separate <code>next</code> branch without version bumping. So you can collect features and fixes in <code>next</code> without releasing them to <code>latest</code>.</li>
<li>It has plugins, for example to send Slack notifications about releases.</li>
</ul>
<p>The sweet thing that it is all executed on CI/CD server, so you do not need to do anything manually.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ussage-example">Ussage example<a href="#ussage-example" class="hash-link" aria-label="Direct link to Ussage example" title="Direct link to Ussage example">​</a></h2>
<p>I will show a flow on empty fake small project to not overcomplicate things.</p>
<p>This will allow you to apply it to your project once you ready.</p>
<p>We will use minimal typescript package with <code>npm</code> and <code>semantic-release</code> to show how it works.</p>
<p>First init new git repository:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token builtin class-name" style="color:#e6db74">echo</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&quot;# test-sem-release&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">&gt;&gt;</span><span class="token plain"> README.md</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#e6db74">git</span><span class="token plain"> init</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#e6db74">git</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">add</span><span class="token plain"> README.md</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#e6db74">git</span><span class="token plain"> commit </span><span class="token parameter variable" style="color:#f8f8f2">-m</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&quot;first commit&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#e6db74">git</span><span class="token plain"> branch </span><span class="token parameter variable" style="color:#f8f8f2">-M</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#e6db74">git</span><span class="token plain"> remote </span><span class="token function" style="color:#e6db74">add</span><span class="token plain"> origin git@github.com:devforth/test-sem-release.git</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#e6db74">git</span><span class="token plain"> push </span><span class="token parameter variable" style="color:#f8f8f2">-u</span><span class="token plain"> origin main</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now lets init new <code>npm package</code>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token function" style="color:#e6db74">npm</span><span class="token plain"> init </span><span class="token parameter variable" style="color:#f8f8f2">-y</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#e6db74">npm</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">install</span><span class="token plain"> typescript --save-dev</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">npx tsc </span><span class="token parameter variable" style="color:#f8f8f2">--init</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Create a file <code>index.ts</code>:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockTitle_Ktv7">index.ts</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">export</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">const</span><span class="token plain"> greet </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">name</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token builtin" style="color:#e6db74">string</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token builtin" style="color:#e6db74">string</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#66d9ef">return</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token template-string string" style="color:#a6e22e">Hello, </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">}</span><span class="token template-string string" style="color:#a6e22e">!</span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In <code>package.json</code> add:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token property" style="color:#f92672">&quot;name&quot;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&quot;@devforth/test-sem-release&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token property" style="color:#f92672">&quot;publishConfig&quot;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token property" style="color:#f92672">&quot;access&quot;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&quot;public&quot;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token property" style="color:#f92672">&quot;version&quot;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&quot;1.0.0&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token property" style="color:#f92672">&quot;main&quot;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&quot;index.js&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token property" style="color:#f92672">&quot;scripts&quot;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token property" style="color:#f92672">&quot;test&quot;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token property" style="color:#f92672">&quot;build&quot;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&quot;tsc&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token property" style="color:#f92672">&quot;author&quot;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&quot;&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token property" style="color:#f92672">&quot;license&quot;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&quot;ISC&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token property" style="color:#f92672">&quot;description&quot;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&quot;&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token property" style="color:#f92672">&quot;release&quot;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token property" style="color:#f92672">&quot;branches&quot;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token string" style="color:#a6e22e">&quot;main&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token property" style="color:#f92672">&quot;name&quot;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&quot;next&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token property" style="color:#f92672">&quot;prerelease&quot;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ae81ff">true</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token property" style="color:#f92672">&quot;plugins&quot;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token string" style="color:#a6e22e">&quot;@semantic-release/commit-analyzer&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token string" style="color:#a6e22e">&quot;@semantic-release/release-notes-generator&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token string" style="color:#a6e22e">&quot;@semantic-release/npm&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token string" style="color:#a6e22e">&quot;@semantic-release/github&quot;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Make sure name in <code>package.json</code> has your organisation name like mine <code>@devforth/</code> and you have access to publish packages to npmjs.com.</p>
<p>Also install <code>semantic-release</code>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token function" style="color:#e6db74">npm</span><span class="token plain"> i </span><span class="token parameter variable" style="color:#f8f8f2">-D</span><span class="token plain"> semantic-release</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="connecting-to-ci">Connecting to CI<a href="#connecting-to-ci" class="hash-link" aria-label="Direct link to Connecting to CI" title="Direct link to Connecting to CI">​</a></h2>
<p>We will use Woodpecker CI for this example. Woodpecker is a free and open-source CI/CD tool that you can install to your own server / VPS and will not need to pay for build minutes, and will only for server. No limits on pipelines, users, repositories, etc. If you want to try it, we have <a href="https://devforth.io/blog/step-by-step-guide-to-modern-secure-ci-setup/" target="_blank" rel="noopener noreferrer">Woodpecker installation guide</a></p>
<p>Create a file <code>.woodpecker.yml</code> in <code>deploy</code> directory:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockTitle_Ktv7">deploy/.woodpecker.yml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token key atrule">clone</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token key atrule">git</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> woodpeckerci/plugin</span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain">git</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token key atrule">settings</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token key atrule">partial</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#ae81ff">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token key atrule">depth</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token key atrule">steps</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token key atrule">release</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> node</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token number" style="color:#ae81ff">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token key atrule">when</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain"> </span><span class="token key atrule">event</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> push</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token key atrule">commands</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain"> npm clean</span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain">install</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain"> npm run build</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain"> npm audit signatures</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain"> npx semantic</span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain">release</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token key atrule">secrets</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain"> GITHUB_TOKEN</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain"> NPM_TOKEN</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Go to Woodpecker, authorize via GitHub, click <code>Add repository</code>, find your repository and add it.</p>
<p>Disable <code>Project settings</code> -&gt; <code>Allow Pull Requests</code> because we do not want to trigger builds on PRs.
Enable <code>Project settings</code> -&gt; <code>Trusted</code>
Enable <code>Project Visibility</code> -&gt; <code>Internal</code> unless you want to make it public.</p>
<blockquote>
<p>We strictly recommend to use <code>Internal</code> visibility for your projects, because if you use <code>Public</code> visibility, your build logs will be public and if accidentally you will print some secret to console, it will be public (generally it happens when you debug something and print environment variables).</p>
</blockquote>
<p><img decoding="async" loading="lazy" alt="Woodpecker project settings" src="/assets/images/image-4-10736f83a40640d8963b0dd68fb3e759.png" width="2443" height="1799" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="generating-github-acces-token">Generating GitHub acces token<a href="#generating-github-acces-token" class="hash-link" aria-label="Direct link to Generating GitHub acces token" title="Direct link to Generating GitHub acces token">​</a></h3>
<p>If your repo is in GitHub organisation, you need first enable access to personal access tokens for your organisation (if not yet done):</p>
<ol>
<li>In the upper-right corner of GitHub, select your profile photo, then click <code>Your organizations</code>.</li>
<li>Next to the organization, click <code>Settings</code>.</li>
<li>In the left sidebar, under  Personal access tokens, click <code>Settings</code>.</li>
<li>Select <code>Allow access via fine-grained personal access tokens</code></li>
<li>We recommend setting <code>Require administrator approval</code></li>
<li>&quot;Allow access via personal access tokens (classic)&quot;</li>
</ol>
<p>Now go to your profile, click on <code>Settings</code> -&gt; <code>Developer settings</code> -&gt; <code>Personal access tokens</code> -&gt; <code>Generate new token</code></p>
<p>For permissions,</p>
<ul>
<li>Select <code>Contents</code>: <code>Read and Write</code></li>
<li>Select <code>Metadata</code>: <code>Read-only</code> (if not yet selected)</li>
</ul>
<p>In Woodpecker go to <code>Settings</code>, <code>Secrets</code>, <code>Add Secret</code>, put name name: <code>GITHUB_TOKEN</code> and paste your token:</p>
<p><img decoding="async" loading="lazy" alt="Woodpecker Secrets" src="/assets/images/image-64910662d2872a85b76892870c2ab222.png" width="3447" height="1796" class="img_ev3q"></p>
<p>In <code>Available at following events</code> select <code>Push</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="generating-npm-token">Generating NPM token<a href="#generating-npm-token" class="hash-link" aria-label="Direct link to Generating NPM token" title="Direct link to Generating NPM token">​</a></h3>
<p>Go to your npmjs.com account, click on <code>Profile Avatar</code> -&gt; <code>Access Tokens</code> -&gt; <code>Generate New Token</code> -&gt; <code>New Granular Access Token</code>.</p>
<p>Packages and scopes Permissions: Read and Write.</p>
<p>In similar way to GitHub token, add it to Woodpecker as secret with name <code>NPM_TOKEN</code></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="testing">Testing<a href="#testing" class="hash-link" aria-label="Direct link to Testing" title="Direct link to Testing">​</a></h2>
<p>For now we did not yet push anything to GitHub and did not publish anything to npm.</p>
<p>Lets do it now.</p>
<p>Just push your first commit as:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">feat: initial commit</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will trigger semantic-release to do first release <code>v1.0.0</code>.</p>
<p>Now change something is index.ts and push it as fix</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">fix: fix greet </span><span class="token keyword" style="color:#66d9ef">function</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will trigger semantic-release to do release <code>v1.0.1</code>.</p>
<p>Now change something in <code>index.ts</code> and push it as feat</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">feat: </span><span class="token function" style="color:#e6db74">add</span><span class="token plain"> new </span><span class="token keyword" style="color:#66d9ef">function</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will trigger semantic-release to do release <code>v1.1.0</code> because we added new feature, not just fixed something.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="next-distribution-channel">Next distribution channel<a href="#next-distribution-channel" class="hash-link" aria-label="Direct link to Next distribution channel" title="Direct link to Next distribution channel">​</a></h3>
<p>Now we will show how to release to <code>next</code> channel.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token function" style="color:#e6db74">git</span><span class="token plain"> checkout </span><span class="token parameter variable" style="color:#f8f8f2">-b</span><span class="token plain"> next</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Change something and push it as fix</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">fix: fix greet </span><span class="token keyword" style="color:#66d9ef">function</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">in</span><span class="token plain"> next</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Commit it and push:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token function" style="color:#e6db74">git</span><span class="token plain"> push --set-upstream origin next</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will trigger semantic-release to do release <code>v1.1.1-next.1</code>. Please not that it bumped patch version because we are in <code>next</code> channel.</p>
<p>Now lets add feature to next</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">feat: add new feature in next</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It will trigger release <code>v1.2.0-next.1</code> because we added new feature and minor version was bumped. Please not that next number started from 1 again.</p>
<p>Noe lets merge <code>next</code> to <code>main</code> and push it:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">git checkout main</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">git merge next</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">git push</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will trigger release <code>v1.2.0</code> because we merged <code>next</code> to <code>main</code> and it was a feature release.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="slack-notifications-about-releases">Slack notifications about releases<a href="#slack-notifications-about-releases" class="hash-link" aria-label="Direct link to Slack notifications about releases" title="Direct link to Slack notifications about releases">​</a></h2>
<p>So now we have automatic releases with release notes on GitHub.
For our internal team we use Slack and we want to get notifications about releases there.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token function" style="color:#e6db74">npm</span><span class="token plain"> i </span><span class="token parameter variable" style="color:#f8f8f2">-D</span><span class="token plain"> semantic-release-slack-bot</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Into &quot;release&quot; section of <code>package.json</code> add slack plugin:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain"> </span><span class="token property" style="color:#f92672">&quot;plugins&quot;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token string" style="color:#a6e22e">&quot;@semantic-release/commit-analyzer&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token string" style="color:#a6e22e">&quot;@semantic-release/release-notes-generator&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token string" style="color:#a6e22e">&quot;@semantic-release/npm&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token string" style="color:#a6e22e">&quot;@semantic-release/github&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token string" style="color:#a6e22e">&quot;semantic-release-slack-bot&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">          </span><span class="token property" style="color:#f92672">&quot;notifyOnSuccess&quot;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ae81ff">true</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">          </span><span class="token property" style="color:#f92672">&quot;notifyOnFail&quot;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ae81ff">true</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">          </span><span class="token property" style="color:#f92672">&quot;slackIcon&quot;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&quot;:package:&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">          </span><span class="token property" style="color:#f92672">&quot;markdownReleaseNotes&quot;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token boolean" style="color:#ae81ff">true</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Also create channel in Slack, click on channel name, go to <code>Integrations</code> -&gt; <code>Add an App</code> -&gt; <code>Incoming Webhooks</code> -&gt; <code>Add to Slack</code> -&gt; &quot;Add Incoming Webhook to Workspace&quot; -&gt; &quot;Add to Slack&quot; -&gt; &quot;Copy Webhook URL&quot;</p>
<p>Add it to Woodpecker as secret <code>SLACK_WEBHOOK</code> environment variable.</p>
<p>Also add this secterd to <code>.woodpecker.yml</code>:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockTitle_Ktv7">deploy/.woodpecker.yml</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token key atrule">secrets</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain"> GITHUB_TOKEN</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain"> NPM_TOKEN</span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#f8f8f2">-</span><span class="token plain"> SLACK_WEBHOOK</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will send notifications to Slack channel about succesfull releases when <code>npm run build</code> is done without errors:</p>
<p><img decoding="async" loading="lazy" alt="Slack notifications about releases" src="/assets/images/image-5-ec5a52db880a586bef36f2987d319596.png" width="1645" height="711" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="should-i-maintain-changelogmd-anymore">Should I maintain CHANGELOG.md anymore?<a href="#should-i-maintain-changelogmd-anymore" class="hash-link" aria-label="Direct link to Should I maintain CHANGELOG.md anymore?" title="Direct link to Should I maintain CHANGELOG.md anymore?">​</a></h2>
<p><code>semantic-release</code> has a plugin for generating not only GitHub release notes, but also CHANGELOG.md.</p>
<p>Since previusly we used CHANGELOG.md I thought it would be good to have it in project. But once I entered <a href="https://github.com/semantic-release/changelog" target="_blank" rel="noopener noreferrer">plugin page</a> I got a notice which <a href="https://semantic-release.gitbook.io/semantic-release/support/faq#should-release-notes-be-committed-to-a-changelog.md-in-my-repository-during-a-release" target="_blank" rel="noopener noreferrer">explained complexity</a> added for this approach.</p>
<p>So we ended with a simple <a href="https://github.com/devforth/adminforth/blob/main/CHANGELOG.md" target="_blank" rel="noopener noreferrer">link to GitHub releases</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="is-it-all-that-good">Is it all that good?<a href="#is-it-all-that-good" class="hash-link" aria-label="Direct link to Is it all that good?" title="Direct link to Is it all that good?">​</a></h2>
<p>Well, there are no perfect approaches in the world.</p>
<p>Of course <code>semantic-release</code> has some cons.</p>
<p>First of all, while you can write a commit messages without any prefix and they will not be included in release, you still have to follow strict commit message format when you are releasing feature or fix. And you don&#x27;t have to forget to use this format. Instead of making manual forming of release notes which is done by one person, now every developer in team has to follow the same format and has to write clear commit messages.</p>
<p>And there are couple of bad things with last points:</p>
<ul>
<li>It is not so easy to modify commit message once it is pushed to GitHub, so commit writing becomes one of the most critical parts of development process where you have to be very careful.</li>
<li>Commit message should be understood not only by developers of framework, but also by users of framework. And some developers might think that these are two absolutely different dementions of understanding: first one is for developers, second one is for users. But in fact, at AdminForth, we think that set of user-friendly commit messages is a very small subset of set of developer-friendly commit messages. So if you write user-friendly commit messages, there is no chance that developers will not understand them.</li>
</ul>
<p>You are still fine with merging incoming PRs and ignore their commit messages becuse GitHub allows to edit commit message before merging ( using <code>Squash and merge</code> option )</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a title="Git is a distributed version control system that allows multiple developers to collaborate on a project." class="tag_zVej tagRegular_sFm0" href="/blog/tags/git/">Git</a></li><li class="tag_QGVx"><a title="Versioning is the process of assigning unique identifiers to different versions of a software application or project." class="tag_zVej tagRegular_sFm0" href="/blog/tags/versioning/">Versioning</a></li><li class="tag_QGVx"><a title="NPM is a package manager for the JavaScript programming language that allows developers to share and reuse code." class="tag_zVej tagRegular_sFm0" href="/blog/tags/npm/">NPM</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/how-i-opensourced-my-secret-tokens/"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">How I Open-Sourced My Secret Access Tokens from GitHub, Slack, and NPM — and Who Actually Cares</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/backup-database-to-aws-glacier/"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Backup database to AWS Glacier</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prehistory-and-issues" class="table-of-contents__link toc-highlight">Prehistory and issues</a><ul><li><a href="#what-is-npm-pre-release-version" class="table-of-contents__link toc-highlight">What is npm pre-release version?</a></li><li><a href="#issue-one-easy-to-forget-add-something-to-changelogmd" class="table-of-contents__link toc-highlight">Issue one: easy to forget add something to CHANGELOG.md</a></li><li><a href="#issue-two-changelogmd-might-be-forgot-to-be-changed-before-release-as-all" class="table-of-contents__link toc-highlight">Issue two: CHANGELOG.md might be forgot to be changed before release as all</a></li><li><a href="#issue-three-lack-of-github-releases-or-need-to-maintain-both" class="table-of-contents__link toc-highlight">Issue three: lack of GitHub releases or need to maintain both</a></li><li><a href="#issue-four-manual-tags" class="table-of-contents__link toc-highlight">Issue four: manual tags</a></li><li><a href="#issue-five-dump-commits" class="table-of-contents__link toc-highlight">Issue five: dump commits</a></li><li><a href="#issue-six-releae-delay-and-bus-factor" class="table-of-contents__link toc-highlight">Issue six: releae delay and bus-factor</a></li><li><a href="#issue-seven-lack-of-pre-release-versions-changes" class="table-of-contents__link toc-highlight">Issue seven: lack of pre-release versions changes</a></li></ul></li><li><a href="#semantic-release-what-is-it-and-how-it-works" class="table-of-contents__link toc-highlight">Semantic-release: what is it and how it works</a></li><li><a href="#ussage-example" class="table-of-contents__link toc-highlight">Ussage example</a></li><li><a href="#connecting-to-ci" class="table-of-contents__link toc-highlight">Connecting to CI</a><ul><li><a href="#generating-github-acces-token" class="table-of-contents__link toc-highlight">Generating GitHub acces token</a></li><li><a href="#generating-npm-token" class="table-of-contents__link toc-highlight">Generating NPM token</a></li></ul></li><li><a href="#testing" class="table-of-contents__link toc-highlight">Testing</a><ul><li><a href="#next-distribution-channel" class="table-of-contents__link toc-highlight">Next distribution channel</a></li></ul></li><li><a href="#slack-notifications-about-releases" class="table-of-contents__link toc-highlight">Slack notifications about releases</a></li><li><a href="#should-i-maintain-changelogmd-anymore" class="table-of-contents__link toc-highlight">Should I maintain CHANGELOG.md anymore?</a></li><li><a href="#is-it-all-that-good" class="table-of-contents__link toc-highlight">Is it all that good?</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/tutorial/gettingStarted/">Tutorial</a></li><li class="footer__item"><a href="https://demo.adminforth.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Live Demo</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/api/">API</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/archive/">Blog Archive</a></li><li class="footer__item"><a class="footer__link-item" href="/search/">Find anything</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://devforth.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">DevForth.io<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://devforth.io/contact" target="_blank" rel="noopener noreferrer" class="footer__link-item">We can develop admin panel for your project<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/devforth/adminforth" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Devforth sp. z o.o.</div></div></div></footer></div>
</body>
</html>
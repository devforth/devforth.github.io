"use strict";(self.webpackChunkadminforth=self.webpackChunkadminforth||[]).push([[698],{21658:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"tutorial/Plugins/universal-filters","title":"Universal Filters","description":"Adds a single debounced search input to List pages (rendered before action buttons) that expands into an OR group of filters across multiple configured columns.","source":"@site/docs/tutorial/07-Plugins/18-universal-filters.md","sourceDirName":"tutorial/07-Plugins","slug":"/tutorial/Plugins/universal-filters","permalink":"/docs/tutorial/Plugins/universal-filters","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":18,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Bulk AI Flow","permalink":"/docs/tutorial/Plugins/bulk-ai-flow"},"next":{"title":"Plugin development guide","permalink":"/docs/tutorial/Advanced/plugin-development"}}');var l=i(74848),s=i(28453);const r={},a="Universal Filters",o={},d=[{value:"Installation",id:"installation",level:2},{value:"Basic Usage",id:"basic-usage",level:2},{value:"Options",id:"options",level:2},{value:"Debounce Behavior",id:"debounce-behavior",level:2},{value:"Roadmap / Future Enhancements",id:"roadmap--future-enhancements",level:2},{value:"License",id:"license",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"universal-filters",children:"Universal Filters"})}),"\n",(0,l.jsx)(n.p,{children:"Adds a single debounced search input to List pages (rendered before action buttons) that expands into an OR group of filters across multiple configured columns."}),"\n",(0,l.jsx)(n.p,{children:"Useful for quick, multi-field search without opening the side filter panel."}),"\n",(0,l.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npm i @adminforth/universal-search --save\n"})}),"\n",(0,l.jsx)(n.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,l.jsxs)(n.p,{children:["Add the plugin to any resource. Place it inside the ",(0,l.jsx)(n.code,{children:"plugins"})," array. It injects a component at the ",(0,l.jsx)(n.code,{children:"beforeActionButtons"})," list page injection point (already available in AdminForth if you are on a recent version)."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",metastring:'title="./resources/apartments.ts"',children:"// diff-add\nimport UniversalFiltersPlugin from '@adminforth/universal-search';\n\nexport const admin = new AdminForth({\n  ...,\n  resources: [\n    {\n      resourceId: 'aparts',\n      table: 'apartments',\n      columns: [\n        { name: 'id', primaryKey: true },\n        { name: 'title' },\n        { name: 'description' },\n        { name: 'country' },\n        { name: 'price' },\n      ],\n      plugins: [\n        // diff-add\n        new UniversalFiltersPlugin({\n        // diff-add\n          columns: [\n        // diff-add\n            { name: 'title' },\n        // diff-add\n            { name: 'description' },\n        // diff-add\n            { name: 'country', caseSensitive: true },\n        // diff-add\n            { name: 'price', exact: true },\n        // diff-add\n          ],\n        // diff-add\n          debounceMs: 400, // optional (default 500)\n        // diff-add\n        }),\n      ]\n    }\n  ]\n});\n"})}),"\n",(0,l.jsx)(n.p,{children:"Type into the input and (after debounce) a single composite filter like this is sent to backend:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{\n  "operator": "or",\n  "subFilters": [\n    { "field": "title",       "operator": "ilike", "value": "%pent%" },\n    { "field": "description", "operator": "ilike", "value": "%pent%" },\n    { "field": "country",     "operator": "like",  "value": "%pent%" }\n  ]\n}\n'})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"price"})," (marked ",(0,l.jsx)(n.code,{children:"exact"}),") is only included if the user input is a valid number and matches fully."]}),"\n",(0,l.jsx)(n.p,{children:"Press Enter to apply immediately without waiting for the debounce delay. Clearing the input removes the universal filter group entirely."}),"\n",(0,l.jsx)(n.h2,{id:"options",children:"Options"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",children:"new UniversalFiltersPlugin({\n  columns: [\n    {\n      name: string;                // required column name\n      caseSensitive?: boolean;     // default false (uses ilike when false, like when true)\n      searchBy?: 'valueOnly' | 'labelOnly' | 'both'; // reserved (future enum/label support)\n      exact?: boolean;             // default false\n    }\n  ],\n  debounceMs?: number;            // default 500\n});\n"})}),"\n",(0,l.jsx)(n.h2,{id:"debounce-behavior",children:"Debounce Behavior"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Default delay: 500 ms (configurable via ",(0,l.jsx)(n.code,{children:"debounceMs"}),")."]}),"\n",(0,l.jsx)(n.li,{children:"Enter key: applies immediately."}),"\n",(0,l.jsx)(n.li,{children:"Input cleared: universal OR filter group removed."}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"roadmap--future-enhancements",children:"Roadmap / Future Enhancements"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"searchBy: 'labelOnly' | 'both'"})," to support enum / foreign key label text"]}),"\n",(0,l.jsx)(n.li,{children:"Local persistence of last query"}),"\n",(0,l.jsx)(n.li,{children:"Wildcard escaping & advanced pattern modes"}),"\n",(0,l.jsx)(n.li,{children:"Loading indicator while applying"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"license",children:"License"}),"\n",(0,l.jsx)(n.p,{children:"MIT"})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var t=i(96540);const l={},s=t.createContext(l);function r(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);
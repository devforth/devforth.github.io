"use strict";(self.webpackChunkadminforth=self.webpackChunkadminforth||[]).push([[4646],{8183:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>a,default:()=>c,frontMatter:()=>d,metadata:()=>r,toc:()=>l});var i=n(4848),o=n(8453);const d={},a="Text Complete",r={id:"tutorial/Plugins/text-complete",title:"Text Complete",description:"This plugin allows you to auto-complete text and string fields using OpenAI Chat GPT models.",source:"@site/docs/tutorial/07-Plugins/06-text-complete.md",sourceDirName:"tutorial/07-Plugins",slug:"/tutorial/Plugins/text-complete",permalink:"/docs/tutorial/Plugins/text-complete",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Upload",permalink:"/docs/tutorial/Plugins/upload"},next:{title:"Email password reset",permalink:"/docs/tutorial/Plugins/email-password-reset"}},s={},l=[{value:"Installation",id:"installation",level:2},{value:"Initial prompt",id:"initial-prompt",level:2}];function p(e){const t={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",img:"img",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"text-complete",children:"Text Complete"}),"\n",(0,i.jsx)(t.p,{children:"This plugin allows you to auto-complete text and string fields using OpenAI Chat GPT models."}),"\n",(0,i.jsx)(t.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"npm i @adminforth/text-complete --save\nnpm i @adminforth/completion-adapter-open-ai-chat-gpt --save\n"})}),"\n",(0,i.jsxs)(t.p,{children:["Go to ",(0,i.jsx)(t.a,{href:"https://platform.openai.com/",children:"https://platform.openai.com/"}),", open ",(0,i.jsx)(t.code,{children:"Dashboard"})," -> ",(0,i.jsx)(t.code,{children:"API keys"})," -> ",(0,i.jsx)(t.code,{children:"Create new secret key"}),". Paste value in your ",(0,i.jsx)(t.code,{children:".env"})," file:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-env",metastring:"title=.env",children:"...\nOPENAI_API_KEY=your_key\n"})}),"\n",(0,i.jsx)(t.p,{children:"Add plugin installation to any text or string column."}),"\n",(0,i.jsxs)(t.p,{children:["For example let's add it for title and description in ",(0,i.jsx)(t.code,{children:"aparts"})," resource configuration which we created in ",(0,i.jsx)(t.a,{href:"/docs/tutorial/gettingStarted",children:"Getting Started"})," tutorial."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-ts",metastring:'title="./resources/apartments.ts"',children:"//diff-add\nimport TextCompletePlugin from '@adminforth/text-complete';\n//diff-add\nimport CompletionAdapterOpenAIChatGPT from \"@adminforth/completion-adapter-open-ai-chat-gpt\";\n\n\nexport const admin = new AdminForth({\n  ...\n  resourceId: 'aparts',\n  columns: [\n    ...\n  ],\n  plugins: [\n    ...\n//diff-add\n    new TextCompletePlugin({\n//diff-add\n      fieldName: 'title',\n//diff-add\n      adapter: new CompletionAdapterOpenAIChatGPT({\n//diff-add\n        openAiApiKey: process.env.OPENAI_API_KEY as string,\n//diff-add\n        model: 'gpt-4o', // default \"gpt-4o-mini\"\n//diff-add\n        expert: {\n//diff-add\n            temperature: 0.7 //Model temperature, default 0.7\n//diff-add\n        }\n//diff-add\n      }),\n//diff-add\n    }),\n//diff-add\n    new TextCompletePlugin({\n//diff-add\n      fieldName: 'description',\n//diff-add\n      adapter: new CompletionAdapterOpenAIChatGPT({\n//diff-add\n        openAiApiKey: process.env.OPENAI_API_KEY as string,\n//diff-add\n      }),\n//diff-add\n      // expert: {\n//diff-add\n        // maxTokens: 50, // token limit to generate for each completion. 50 is default\n//diff-add\n        // promptInputLimit: 500, // Limit in characters of edited field to be passed to Model. 500 is default value\n//diff-add\n        // debounceTime: 300, // Debounce time in milliseconds. 300 is default value\n//diff-add\n      // }\n//diff-add\n    }),\n\n  ]\n\n  ...\n\n});\n"})}),"\n",(0,i.jsx)(t.p,{children:"Here is how it looks:"}),"\n",(0,i.jsxs)(t.p,{children:["!",(0,i.jsx)(t.img,{alt:"alt text",src:n(9303).A+"",width:"988",height:"841"})]}),"\n",(0,i.jsx)(t.h2,{id:"initial-prompt",children:"Initial prompt"}),"\n",(0,i.jsxs)(t.p,{children:["If you want to generate field by your own prompt, you can use ",(0,i.jsx)(t.code,{children:"initialPrompt"})," property in plugin configuration."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-ts",metastring:'title="./resources/apartments.ts"',children:"    new TextCompletePlugin({\n      fieldName: 'description',\n//diff-add\n      initialPrompt: `I need to introduce apartment '{{title}}' to people who have a pets and afraid that apartment is not pet friendly. I need short but very attractive description if it. It should have CTAs and Emojis. write \\n\\n once you are done.`,\n//diff-add\n      expert: {\n//diff-add\n        stop: ['\\n\\n'],\n//diff-add\n        maxTokens: 500,\n//diff-add\n      },\n    }),\n"})}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Note:"})," ",(0,i.jsx)(t.code,{children:"{{title}}"})," is a placeholder for the value of the field ",(0,i.jsx)(t.code,{children:"title"}),". It will be replaced with the actual value of the field when generating the prompt. You can use any field name from your resource configuration.\n",(0,i.jsx)(t.strong,{children:"Note:"})," ",(0,i.jsx)(t.code,{children:"stop"})," is a property of the model that tells it when to stop generating text. In this case, we are telling it to stop when it sees ",(0,i.jsx)(t.code,{children:"\\n\\n"}),"."]}),"\n"]})]})}function c(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},9303:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/dashboard_test2-9c2d002eadefb26b01fca6e06faa72fa.gif"},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>r});var i=n(6540);const o={},d=i.createContext(o);function a(e){const t=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(d.Provider,{value:t},e.children)}}}]);
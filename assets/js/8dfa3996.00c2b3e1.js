"use strict";(self.webpackChunkadminforth=self.webpackChunkadminforth||[]).push([[1161],{5351:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>d,toc:()=>o});var l=n(4848),i=n(8453);const t={},r="AdminForthBulkAction",d={id:"api/types/AdminForthConfig/type-aliases/AdminForthBulkAction",title:"AdminForthBulkAction",description:"AdminForthBulkAction: object",source:"@site/docs/api/types/AdminForthConfig/type-aliases/AdminForthBulkAction.md",sourceDirName:"api/types/AdminForthConfig/type-aliases",slug:"/api/types/AdminForthConfig/type-aliases/AdminForthBulkAction",permalink:"/docs/api/types/AdminForthConfig/type-aliases/AdminForthBulkAction",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"apiSidebar",previous:{title:"IOperationalResource",permalink:"/docs/api/types/AdminForthConfig/interfaces/IOperationalResource"},next:{title:"AdminForthColumnEnumItem",permalink:"/docs/api/types/AdminForthConfig/type-aliases/AdminForthColumnEnumItem"}},c={},o=[{value:"Type declaration",id:"type-declaration",level:2},{value:"action()",id:"action",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Returns",id:"returns",level:4},{value:"error?",id:"error",level:5},{value:"ok",id:"ok",level:5},{value:"successMessage?",id:"successmessage",level:5},{value:"allowed()?",id:"allowed",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"Returns",id:"returns-1",level:4},{value:"confirm?",id:"confirm",level:3},{value:"icon?",id:"icon",level:3},{value:"id?",id:"id",level:3},{value:"label",id:"label",level:3},{value:"state",id:"state",level:3},{value:"successMessage?",id:"successmessage-1",level:3}];function a(e){const s={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.h1,{id:"adminforthbulkaction",children:"AdminForthBulkAction"}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.strong,{children:"AdminForthBulkAction"}),": ",(0,l.jsx)(s.code,{children:"object"})]}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"type-declaration",children:"Type declaration"}),"\n",(0,l.jsx)(s.h3,{id:"action",children:"action()"}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.strong,{children:"action"}),": (",(0,l.jsx)(s.code,{children:"{ resource, selectedIds, adminUser }"}),") => ",(0,l.jsx)(s.code,{children:"Promise"}),"<",(0,l.jsx)(s.code,{children:"object"}),">"]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"Callback which will be called on backend when user clicks on action button.\nIt should return Promise which will be resolved when action is done."}),"\n",(0,l.jsx)(s.h4,{id:"parameters",children:"Parameters"}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{style:{textAlign:"left"},children:"Parameter"}),(0,l.jsx)(s.th,{style:{textAlign:"left"},children:"Type"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"{ resource, selectedIds, adminUser }"})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"object"})})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"{ resource, selectedIds, adminUser }.adminUser"})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.a,{href:"/docs/api/types/AdminForthConfig/type-aliases/AdminUser",children:(0,l.jsx)(s.code,{children:"AdminUser"})})})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"{ resource, selectedIds, adminUser }.resource"})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.a,{href:"/docs/api/types/AdminForthConfig/type-aliases/AdminForthResource",children:(0,l.jsx)(s.code,{children:"AdminForthResource"})})})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"{ resource, selectedIds, adminUser }.selectedIds"})}),(0,l.jsxs)(s.td,{style:{textAlign:"left"},children:[(0,l.jsx)(s.code,{children:"any"}),"[]"]})]})]})]}),"\n",(0,l.jsx)(s.h4,{id:"returns",children:"Returns"}),"\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.code,{children:"Promise"}),"<",(0,l.jsx)(s.code,{children:"object"}),">"]}),"\n",(0,l.jsx)(s.h5,{id:"error",children:"error?"}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.code,{children:"optional"})," ",(0,l.jsx)(s.strong,{children:"error"}),": ",(0,l.jsx)(s.code,{children:"string"})]}),"\n"]}),"\n",(0,l.jsx)(s.h5,{id:"ok",children:"ok"}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.strong,{children:"ok"}),": ",(0,l.jsx)(s.code,{children:"boolean"})]}),"\n"]}),"\n",(0,l.jsx)(s.h5,{id:"successmessage",children:"successMessage?"}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.code,{children:"optional"})," ",(0,l.jsx)(s.strong,{children:"successMessage"}),": ",(0,l.jsx)(s.code,{children:"string"})]}),"\n"]}),"\n",(0,l.jsx)(s.h3,{id:"allowed",children:"allowed()?"}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.code,{children:"optional"})," ",(0,l.jsx)(s.strong,{children:"allowed"}),": (",(0,l.jsx)(s.code,{children:"{ resource, adminUser, selectedIds, allowedActions }"}),") => ",(0,l.jsx)(s.code,{children:"Promise"}),"<",(0,l.jsx)(s.code,{children:"boolean"}),">"]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"Allowed callback called to check whether action is allowed for user."}),"\n",(0,l.jsxs)(s.ol,{children:["\n",(0,l.jsx)(s.li,{children:"It called first time when user goes to list view. If callback returns false, action button will be hidden on list view."}),"\n",(0,l.jsx)(s.li,{children:"This same callback called second time when user clicks an action button. If callback returns false, action will not be executed.\nIn second time selectedIds will be passed to callback (because checkbox for items are selected), so you can use this to make additional\nchecks ( for example to check if user has permission for certain records )."}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"Example:"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-ts",children:"allowed: async ({ resource, adminUser, selectedIds }) => {\n  if (adminUser.dbUser.role !== 'superadmin') {\n   return false;\n  } \n  return true;\n}\n"})}),"\n",(0,l.jsx)(s.h4,{id:"parameters-1",children:"Parameters"}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{style:{textAlign:"left"},children:"Parameter"}),(0,l.jsx)(s.th,{style:{textAlign:"left"},children:"Type"}),(0,l.jsx)(s.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"{ resource, adminUser, selectedIds, allowedActions }"})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"object"})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:"-"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"{ resource, adminUser, selectedIds, allowedActions }.adminUser"})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.a,{href:"/docs/api/types/AdminForthConfig/type-aliases/AdminUser",children:(0,l.jsx)(s.code,{children:"AdminUser"})})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:"Admin user object"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"{ resource, adminUser, selectedIds, allowedActions }.allowedActions"})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.a,{href:"/docs/api/types/AdminForthConfig/type-aliases/AllowedActionsResolved",children:(0,l.jsx)(s.code,{children:"AllowedActionsResolved"})})}),(0,l.jsxs)(s.td,{style:{textAlign:"left"},children:[(0,l.jsx)("p",{children:'Allowed standard actions for current user resolved by calling allowedActions callbacks if they are passed. You can use this variable to rely on standard actions permissions. E.g. if you have custom actions "Mark as read", you  might want to allow it only for users who have "edit" action allowed:'}),(0,l.jsx)("p",{children:"Example:"}),(0,l.jsxs)("code",{children:[(0,l.jsx)("p",{children:"options: {"}),(0,l.jsx)("p",{children:"  bulkActions: ["}),(0,l.jsx)("p",{children:"    {"}),(0,l.jsx)("p",{children:"      label: 'Mark as read',"}),(0,l.jsx)("p",{children:"      action: async ({ resource, recordIds }) => {"}),(0,l.jsx)("p",{children:"        await markAsRead(recordIds);"}),(0,l.jsx)("p",{children:"      },"}),(0,l.jsx)("p",{children:"      allowed: ({ allowedActions }) => allowedActions.edit,"}),(0,l.jsx)("p",{children:"    }"}),(0,l.jsx)("p",{children:"  ],"}),(0,l.jsx)("p",{children:"  allowedActions: {"}),(0,l.jsx)("p",{children:"    edit: ({ resource, adminUser, recordIds }) => {"}),(0,l.jsx)("p",{children:"      return adminUser.dbUser.role === 'superadmin';"}),(0,l.jsx)("p",{children:"    }"}),(0,l.jsx)("p",{children:"  }"}),(0,l.jsx)("p",{children:"}"})]})]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.code,{children:"{ resource, adminUser, selectedIds, allowedActions }.resource"})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:(0,l.jsx)(s.a,{href:"/docs/api/types/AdminForthConfig/type-aliases/AdminForthResource",children:(0,l.jsx)(s.code,{children:"AdminForthResource"})})}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:"-"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsxs)(s.td,{style:{textAlign:"left"},children:[(0,l.jsx)(s.code,{children:"{ resource, adminUser, selectedIds, allowedActions }.selectedIds"}),"?"]}),(0,l.jsxs)(s.td,{style:{textAlign:"left"},children:[(0,l.jsx)(s.code,{children:"any"}),"[]"]}),(0,l.jsx)(s.td,{style:{textAlign:"left"},children:"recordIds will be passed only once user tries to perform bulk action by clicking on button"})]})]})]}),"\n",(0,l.jsx)(s.h4,{id:"returns-1",children:"Returns"}),"\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.code,{children:"Promise"}),"<",(0,l.jsx)(s.code,{children:"boolean"}),">"]}),"\n",(0,l.jsx)(s.h3,{id:"confirm",children:"confirm?"}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.code,{children:"optional"})," ",(0,l.jsx)(s.strong,{children:"confirm"}),": ",(0,l.jsx)(s.code,{children:"string"})]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"Confirmation message which will be displayed to user before action is executed."}),"\n",(0,l.jsx)(s.h3,{id:"icon",children:"icon?"}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.code,{children:"optional"})," ",(0,l.jsx)(s.strong,{children:"icon"}),": ",(0,l.jsx)(s.code,{children:"string"})]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"Icon for action button which will be displayed in the list view"}),"\n",(0,l.jsx)(s.h3,{id:"id",children:"id?"}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.code,{children:"optional"})," ",(0,l.jsx)(s.strong,{children:"id"}),": ",(0,l.jsx)(s.code,{children:"string"})]}),"\n"]}),"\n",(0,l.jsx)(s.h3,{id:"label",children:"label"}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.strong,{children:"label"}),": ",(0,l.jsx)(s.code,{children:"string"})]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"Label for action button which will be displayed in the list view"}),"\n",(0,l.jsx)(s.h3,{id:"state",children:"state"}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.strong,{children:"state"}),": ",(0,l.jsx)(s.code,{children:"string"})]}),"\n"]}),"\n",(0,l.jsx)(s.h3,{id:"successmessage-1",children:"successMessage?"}),"\n",(0,l.jsxs)(s.blockquote,{children:["\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.code,{children:"optional"})," ",(0,l.jsx)(s.strong,{children:"successMessage"}),": ",(0,l.jsx)(s.code,{children:"string"})]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"Success message which will be displayed to user after action is executed."})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>d});var l=n(6540);const i={},t=l.createContext(i);function r(e){const s=l.useContext(t);return l.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),l.createElement(t.Provider,{value:s},e.children)}}}]);
"use strict";(self.webpackChunkadminforth=self.webpackChunkadminforth||[]).push([[2662],{24143:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>m,frontMatter:()=>s,metadata:()=>n,toc:()=>c});var n=i(92212),o=i(74848),r=i(28453);const s={slug:"k3s-ec2-deployment",title:"IaC Simplified: K3s on EC2 Deployments with Terraform, Helm & Amazon ECR",authors:"kirilldorr",tags:["aws","terraform","helm","k3s"],description:"The ultimate step-by-step guide to cost-effective, build-time-efficient, and easy managable EC2 deployments using K3s, Terraform, Docker, and a Amazon ECR registry."},a=void 0,l={authorsImageUrls:[void 0]},c=[];function d(e){const t={code:"code",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"This guide shows how to deploy own Docker apps (with AdminForth as example) to Amazon EC2 instance with K3s and Terraform involving pushing images into Amazon ECR."}),"\n",(0,o.jsx)(t.p,{children:"Needed resources:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["AWS account where we will auto-spawn EC2 instance. We will use ",(0,o.jsx)(t.code,{children:"t3a.small"})," instance (2 vCPUs, 2GB RAM) which costs ",(0,o.jsx)(t.code,{children:"~14$"})," per month in ",(0,o.jsx)(t.code,{children:"us-west-2"})," region (cheapest region). Also it will take ",(0,o.jsx)(t.code,{children:"$2"})," per month for EBS gp2 storage (20GB) for EC2 instance."]}),"\n",(0,o.jsxs)(t.li,{children:["Also AWS ECR will charge for ",(0,o.jsx)(t.code,{children:"$0.09"})," per GB of data egress traffic (from EC2 to the internet) - this needed to load docker build cache."]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"The setup shape:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Build is done using IaaC approach with HashiCorp Terraform, so almoast no manual actions are needed from you. Every resource including EC2 server instance is described in code which is commited to repo."}),"\n",(0,o.jsx)(t.li,{children:"Docker build process is done on GitHub actions server, so EC2 server is not overloaded with builds"}),"\n",(0,o.jsx)(t.li,{children:"Docker images and build cache are stored on Amazon ECR"}),"\n",(0,o.jsx)(t.li,{children:"Total build time for average commit to AdminForth app (with Vite rebuilds) is around 3 minutes."}),"\n"]})]})}function m(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,t,i)=>{i.d(t,{R:()=>s,x:()=>a});var n=i(96540);const o={},r=n.createContext(o);function s(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),n.createElement(r.Provider,{value:t},e.children)}},92212:e=>{e.exports=JSON.parse('{"permalink":"/blog/k3s-ec2-deployment","source":"@site/blog/2025-11-04-k3s-ec2-deployment/index.md","title":"IaC Simplified: K3s on EC2 Deployments with Terraform, Helm & Amazon ECR","description":"The ultimate step-by-step guide to cost-effective, build-time-efficient, and easy managable EC2 deployments using K3s, Terraform, Docker, and a Amazon ECR registry.","date":"2025-11-04T00:00:00.000Z","tags":[{"inline":false,"label":"AWS","permalink":"/blog/tags/aws","description":"Amazon Web Services (AWS) is a cloud computing platform that provides a wide range of services for building and deploying applications."},{"inline":false,"label":"Terraform","permalink":"/blog/tags/terraform","description":"Terraform is an open-source infrastructure as code software tool created by HashiCorp that enables users to define and provision data center infrastructure using a declarative configuration language."},{"inline":false,"label":"Helm","permalink":"/blog/tags/helm","description":"The package manager for Kubernetes"},{"inline":false,"label":"k3s","permalink":"/blog/tags/k3s","description":"k3s is a lightweight version of k8s (kubernetes) that is also used for container orchestration but uses fewer resources."}],"readingTime":13.825,"hasTruncateMarker":true,"authors":[{"name":"Kyrylo Doropii","title":"DevOps Engineer of AdminForth","url":"https://github.com/kirilldorr","imageURL":"https://avatars.githubusercontent.com/u/181721742?s=96&v=4","key":"kirilldorr","page":null}],"frontMatter":{"slug":"k3s-ec2-deployment","title":"IaC Simplified: K3s on EC2 Deployments with Terraform, Helm & Amazon ECR","authors":"kirilldorr","tags":["aws","terraform","helm","k3s"],"description":"The ultimate step-by-step guide to cost-effective, build-time-efficient, and easy managable EC2 deployments using K3s, Terraform, Docker, and a Amazon ECR registry."},"unlisted":false,"nextItem":{"title":"How to set up Context7 MCP in Visual Studio Code","permalink":"/blog/context7-setup-vscode"}}')}}]);
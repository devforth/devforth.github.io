<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorial/Advanced/plugin-development" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">Plugin development guide | Vue &amp; Node admin panel framework</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://adminforth.dev/img/og.jpg"><meta data-rh="true" name="twitter:image" content="https://adminforth.dev/img/og.jpg"><meta data-rh="true" property="og:url" content="https://adminforth.dev/docs/tutorial/Advanced/plugin-development/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Plugin development guide | Vue &amp; Node admin panel framework"><meta data-rh="true" name="description" content="Creating a plugin is a powerful way to extend AdminForth functionality."><meta data-rh="true" property="og:description" content="Creating a plugin is a powerful way to extend AdminForth functionality."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://adminforth.dev/docs/tutorial/Advanced/plugin-development/"><link data-rh="true" rel="alternate" href="https://adminforth.dev/docs/tutorial/Advanced/plugin-development/" hreflang="en"><link data-rh="true" rel="alternate" href="https://adminforth.dev/docs/tutorial/Advanced/plugin-development/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://VSIPOF54AV-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Plugin development guide","item":"https://adminforth.dev/docs/tutorial/Advanced/plugin-development"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Vue &amp; Node admin panel framework RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Vue &amp; Node admin panel framework Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7K99Q2BH04"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-7K99Q2BH04",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Vue &amp; Node admin panel framework" href="/opensearch.xml">

<script src="/scripts/adminforth.js"></script><link rel="stylesheet" href="/assets/css/styles.49950da2.css">
<script src="/assets/js/runtime~main.1f2c0133.js" defer="defer"></script>
<script src="/assets/js/main.d09aff94.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_Mndp" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="AdminForth Logo" class="themedComponent_abzR themedComponent--light_IjiB"><img src="/img/logo.svg" alt="AdminForth Logo" class="themedComponent_abzR themedComponent--dark_O3Fz"></div><b class="navbar__title text--truncate">AdminForth</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/tutorial/gettingStarted/">Tutorial</a><a class="navbar__item navbar__link" href="/docs/api/">API</a><a class="navbar__item navbar__link" href="/blog/">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_IZ8R"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a href="https://demo.adminforth.dev/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Live Demo<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_wSz0"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/devforth/adminforth" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_wSz0"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_OprV colorModeToggle_GWyB"><button class="clean-btn toggleButton_g_ff toggleButtonDisabled_uc5P" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_DwfO lightToggleIcon_JliJ"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_DwfO darkToggleIcon_dakX"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_DwfO systemToggleIcon_WIBr"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_BBNw"><div class="docsWrapper_dkrk"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_m21v" type="button"></button><div class="docRoot_mtKm"><aside class="theme-doc-sidebar-container docSidebarContainer_Er1R"><div class="sidebarViewport_VgPy"><div class="sidebar_YPx9"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SCH5"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/gettingStarted/"><span title="Getting Started" class="linkLabel_laXl">Getting Started</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item hidden-sidebar"><a class="menu__link" href="/docs/tutorial/hello-world/"><span title="Hello world app without CLI" class="linkLabel_laXl">Hello world app without CLI</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/glossary/"><span title="Glossary" class="linkLabel_laXl">Glossary</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_EbGN menu__link"><span title="Customization" class="categoryLinkLabel_zWOi">Customization</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Customization/branding/"><span title="Branding and Theming" class="linkLabel_laXl">Branding and Theming</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Customization/customFieldRendering/"><span title="Custom record field rendering" class="linkLabel_laXl">Custom record field rendering</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Customization/virtualColumns/"><span title="Virtual columns" class="linkLabel_laXl">Virtual columns</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Customization/hooks/"><span title="Hooks" class="linkLabel_laXl">Hooks</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Customization/limitingAccess/"><span title="Limiting actions access" class="linkLabel_laXl">Limiting actions access</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Customization/customPages/"><span title="Custom pages" class="linkLabel_laXl">Custom pages</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Customization/alert/"><span title="Alerts and confirmations" class="linkLabel_laXl">Alerts and confirmations</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Customization/pageInjections/"><span title="Page Injections" class="linkLabel_laXl">Page Injections</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Customization/Actions/"><span title="Actions" class="linkLabel_laXl">Actions</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Customization/menuConfiguration/"><span title="Menu Configuration" class="linkLabel_laXl">Menu Configuration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Customization/dataApi/"><span title="Data API" class="linkLabel_laXl">Data API</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Customization/security/"><span title="Security" class="linkLabel_laXl">Security</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Customization/standardPagesTuning/"><span title="Standard pages tuning" class="linkLabel_laXl">Standard pages tuning</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Customization/afcl/"><span title="AdminForth Components Library" class="linkLabel_laXl">AdminForth Components Library</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Customization/websocket/"><span title="Websocket" class="linkLabel_laXl">Websocket</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/deploy/"><span title="Deploy in Docker" class="linkLabel_laXl">Deploy in Docker</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/ListOfAdapters/"><span title="AdminForth Adapters" class="linkLabel_laXl">AdminForth Adapters</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/tutorial/CLICommands/"><span title="CLI Commands" class="linkLabel_laXl">CLI Commands</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_EbGN menu__link"><span title="Plugins" class="categoryLinkLabel_zWOi">Plugins</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Plugins/AuditLog/"><span title="AuditLog" class="linkLabel_laXl">AuditLog</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Plugins/TwoFactorsAuth/"><span title="Two-Factor Authentication Plugin" class="linkLabel_laXl">Two-Factor Authentication Plugin</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Plugins/ForeignInlineList/"><span title="ForeignInlineList" class="linkLabel_laXl">ForeignInlineList</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Plugins/RichEditor/"><span title="Rich editor" class="linkLabel_laXl">Rich editor</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Plugins/upload/"><span title="Upload" class="linkLabel_laXl">Upload</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Plugins/text-complete/"><span title="Text Complete" class="linkLabel_laXl">Text Complete</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Plugins/email-password-reset/"><span title="Email password reset" class="linkLabel_laXl">Email password reset</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Plugins/import-export/"><span title="Import-Export" class="linkLabel_laXl">Import-Export</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Plugins/open-signup/"><span title="Open Signup" class="linkLabel_laXl">Open Signup</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Plugins/i18n/"><span title="Internationalization (i18n)" class="linkLabel_laXl">Internationalization (i18n)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Plugins/oauth/"><span title="OAuth Authentication" class="linkLabel_laXl">OAuth Authentication</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Plugins/inline-create/"><span title="Inline Create" class="linkLabel_laXl">Inline Create</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Plugins/list-in-place-edit/"><span title="List in place edit" class="linkLabel_laXl">List in place edit</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Plugins/markdown/"><span title="Markdown" class="linkLabel_laXl">Markdown</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Plugins/ForeignInlineShow/"><span title="ForeignInlineShow" class="linkLabel_laXl">ForeignInlineShow</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Plugins/email-invite/"><span title="Email Invite" class="linkLabel_laXl">Email Invite</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Plugins/bulk-ai-flow/"><span title="Bulk AI Flow" class="linkLabel_laXl">Bulk AI Flow</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorial/Plugins/universal-filters/"><span title="Universal Search" class="linkLabel_laXl">Universal Search</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_EbGN menu__link menu__link--active"><span title="Advanced" class="categoryLinkLabel_zWOi">Advanced</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tutorial/Advanced/plugin-development/"><span title="Plugin development guide" class="linkLabel_laXl">Plugin development guide</span></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_jRkP"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Xiwq"><div class="docItemContainer_JFP9"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_tVzI" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_yapy"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Advanced</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Plugin development guide</span></li></ul></nav><div class="tocCollapsible_Wlpy theme-doc-toc-mobile tocMobile_qs2S"><button type="button" class="clean-btn tocCollapsibleButton_niV5">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Plugin development guide</h1></header>
<p>Creating a plugin is a powerful way to extend AdminForth functionality.</p>
<h2 class="anchor anchorWithStickyNavbar_fMI7" id="concepts">Concepts<a href="#concepts" class="hash-link" aria-label="Direct link to Concepts" title="Direct link to Concepts" translate="no">​</a></h2>
<p>Every plugin is installed to resource.</p>
<p>Every plugin simply does modification of AdminForth config which developer passed on AdminForth initialization.</p>
<p>Plugin can modify both config of resource where it is installed or whole global config.</p>
<p>To perform modification plugin defines a method <code>modifyResourceConfig</code> which accepts <code>config</code> object. The <code>modifyResourceConfig</code> method called after first config validation and preprocessing.</p>
<p>Also plugins can define custom components and custom APIs.</p>
<h2 class="anchor anchorWithStickyNavbar_fMI7" id="boilerplate">Boilerplate<a href="#boilerplate" class="hash-link" aria-label="Direct link to Boilerplate" title="Direct link to Boilerplate" translate="no">​</a></h2>
<p>Let&#x27;s create plugin which auto-completes text in strings</p>
<div class="language-bash codeBlockContainer_zbXh theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_RvPW"><pre tabindex="0" class="prism-code language-bash codeBlock_hldk thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#f8f8f2"><span class="token function" style="color:#e6db74">mkdir</span><span class="token plain"> </span><span class="token parameter variable" style="color:#f8f8f2">-p</span><span class="token plain"> af-plugin-chatgpt</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token builtin class-name" style="color:#e6db74">cd</span><span class="token plain"> af-plugin-chatgpt</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">npx adminforth create-plugin</span><br></span></code></pre></div></div>
<p>CLI options:</p>
<ul>
<li><strong><code>--plugin-name</code></strong> - name for your plugin.</li>
</ul>
<p>This command will:</p>
<ol>
<li>Set up the TypeScript configuration</li>
<li>Create initial plugin files</li>
<li>Install required dependencies</li>
</ol>
<p>The CLI will create the following files and directories:</p>
<div class="language-text codeBlockContainer_zbXh theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_RvPW"><pre tabindex="0" class="prism-code language-text codeBlock_hldk thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#f8f8f2"><span class="token plain">af-plugin-chatgpt/</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">├── custom</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">│   └── tsconfig.json     # TypeScript configuration for custom components</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">├── index.ts              # Main plugin file with boilerplate code</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">├── package.json          # Plugin package configuration</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">├── tsconfig.json         # TypeScript configuration</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">└── types.ts              # TypeScript types for your plugin</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>This is very important step! (otherwise some features like method redefinition might blindly fail).</p>
<h2 class="anchor anchorWithStickyNavbar_fMI7" id="creating-plugin-logic">Creating plugin logic<a href="#creating-plugin-logic" class="hash-link" aria-label="Direct link to Creating plugin logic" title="Direct link to Creating plugin logic" translate="no">​</a></h2>
<p>In previous section we created boilerplate which is a must for every plugin.
Now let&#x27;s implement plugin logic.</p>
<p>First of all we want one plugin installation to be able to set custom Vue component on create and edit pages.</p>
<p>In plugin options we will pass field name and <code>OPENAI_API_KEY</code>.</p>
<div class="language-ts codeBlockContainer_zbXh theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockTitle_VeI8">./af-plugin-chatgpt/types.ts</div><div class="codeBlockContent_RvPW"><pre tabindex="0" class="prism-code language-ts codeBlock_hldk thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">export</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#e6db74">PluginOptions</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token doc-comment comment" style="color:#8292a2;font-style:italic">/**</span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token doc-comment comment" style="color:#8292a2;font-style:italic">   * Field where plugin will auto-complete text. Should be string or text field.</span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token doc-comment comment" style="color:#8292a2;font-style:italic">   */</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">  fieldName</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token builtin" style="color:#e6db74">string</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token doc-comment comment" style="color:#8292a2;font-style:italic">/**</span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token doc-comment comment" style="color:#8292a2;font-style:italic">   * OpenAI API key. Go to https://platform.openai.com/, go to Dashboard -&gt; API keys -&gt; Create new secret key</span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token doc-comment comment" style="color:#8292a2;font-style:italic">   * Paste value in your .env file OPENAI_API_KEY=your_key</span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token doc-comment comment" style="color:#8292a2;font-style:italic">   * Set openAiApiKey: process.env.OPENAI_API_KEY to access it</span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token doc-comment comment" style="color:#8292a2;font-style:italic">   */</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">  openAiApiKey</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token builtin" style="color:#e6db74">string</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token doc-comment comment" style="color:#8292a2;font-style:italic">/**</span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token doc-comment comment" style="color:#8292a2;font-style:italic">   * Model name. Go to https://platform.openai.com/docs/models, select model and copy name.</span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token doc-comment comment" style="color:#8292a2;font-style:italic">   * Default is `gpt-4o-mini`. Use e.g. more expensive `gpt-4o` for more powerful model.</span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token doc-comment comment" style="color:#8292a2;font-style:italic">   */</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">  model</span><span class="token operator" style="color:#66d9ef">?</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token builtin" style="color:#e6db74">string</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token doc-comment comment" style="color:#8292a2;font-style:italic">/**</span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token doc-comment comment" style="color:#8292a2;font-style:italic">   * Expert settings</span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token doc-comment comment" style="color:#8292a2;font-style:italic">   */</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">  expert</span><span class="token operator" style="color:#66d9ef">?</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token doc-comment comment" style="color:#8292a2;font-style:italic">/**</span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token doc-comment comment" style="color:#8292a2;font-style:italic">     * Number of tokens to generate. Default is 50. 1 token ~= ¾ words </span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token doc-comment comment" style="color:#8292a2;font-style:italic">     */</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    maxTokens</span><span class="token operator" style="color:#66d9ef">?</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token builtin" style="color:#e6db74">number</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre></div></div>
<p>We will use <code>vue-suggestion-input</code> package in our frontend component.
To install package into frontend component, first of all we have to initialize npm package in custom folder:</p>
<div class="language-bash codeBlockContainer_zbXh theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_RvPW"><pre tabindex="0" class="prism-code language-bash codeBlock_hldk thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#f8f8f2"><span class="token builtin class-name" style="color:#e6db74">cd</span><span class="token plain"> af-plugin-chatgpt/custom</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#e6db74">npm</span><span class="token plain"> init </span><span class="token parameter variable" style="color:#f8f8f2">-y</span><br></span></code></pre></div></div>
<p>Now install our dependency:</p>
<div class="language-bash codeBlockContainer_zbXh theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_RvPW"><pre tabindex="0" class="prism-code language-bash codeBlock_hldk thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#f8f8f2"><span class="token function" style="color:#e6db74">npm</span><span class="token plain"> i vue-suggestion-input </span><span class="token parameter variable" style="color:#f8f8f2">-D</span><br></span></code></pre></div></div>
<p>Create file <code>completionInput.vue</code>:</p>
<div class="language-html codeBlockContainer_zbXh theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockTitle_VeI8">./af-plugin-chatgpt/custom/completionInput.vue</div><div class="codeBlockContent_RvPW"><pre tabindex="0" class="prism-code language-html codeBlock_hldk thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#f8f8f2"><span class="token tag punctuation" style="color:#f8f8f2">&lt;</span><span class="token tag" style="color:#f92672">template</span><span class="token tag punctuation" style="color:#f8f8f2">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token tag punctuation" style="color:#f8f8f2">&lt;</span><span class="token tag" style="color:#f92672">SuggestionInput</span><span class="token tag" style="color:#f92672"> </span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token tag" style="color:#f92672">    </span><span class="token tag attr-name" style="color:#a6e22e !important">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#f8f8f2">=</span><span class="token tag attr-value punctuation" style="color:#f8f8f2">&quot;</span><span class="token tag attr-value" style="color:#f92672">bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 </span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token tag attr-value" style="color:#f92672">      focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token tag attr-value" style="color:#f92672">      dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 whitespace-normal</span><span class="token tag attr-value punctuation" style="color:#f8f8f2">&quot;</span><span class="token tag" style="color:#f92672"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token tag" style="color:#f92672">      </span><span class="token tag attr-name" style="color:#a6e22e !important">v-model</span><span class="token tag attr-value punctuation attr-equals" style="color:#f8f8f2">=</span><span class="token tag attr-value punctuation" style="color:#f8f8f2">&quot;</span><span class="token tag attr-value" style="color:#f92672">currentValue</span><span class="token tag attr-value punctuation" style="color:#f8f8f2">&quot;</span><span class="token tag" style="color:#f92672"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token tag" style="color:#f92672">      </span><span class="token tag attr-name" style="color:#a6e22e !important">:type</span><span class="token tag attr-value punctuation attr-equals" style="color:#f8f8f2">=</span><span class="token tag attr-value punctuation" style="color:#f8f8f2">&quot;</span><span class="token tag attr-value" style="color:#f92672">column.type</span><span class="token tag attr-value punctuation" style="color:#f8f8f2">&quot;</span><span class="token tag" style="color:#f92672"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token tag" style="color:#f92672">      </span><span class="token tag attr-name" style="color:#a6e22e !important">:completionRequest</span><span class="token tag attr-value punctuation attr-equals" style="color:#f8f8f2">=</span><span class="token tag attr-value punctuation" style="color:#f8f8f2">&quot;</span><span class="token tag attr-value" style="color:#f92672">complete</span><span class="token tag attr-value punctuation" style="color:#f8f8f2">&quot;</span><span class="token tag" style="color:#f92672"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token tag" style="color:#f92672">      </span><span class="token tag attr-name" style="color:#a6e22e !important">:debounceTime</span><span class="token tag attr-value punctuation attr-equals" style="color:#f8f8f2">=</span><span class="token tag attr-value punctuation" style="color:#f8f8f2">&quot;</span><span class="token tag attr-value" style="color:#f92672">meta.debounceTime</span><span class="token tag attr-value punctuation" style="color:#f8f8f2">&quot;</span><span class="token tag" style="color:#f92672"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token tag" style="color:#f92672">    </span><span class="token tag punctuation" style="color:#f8f8f2">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token tag punctuation" style="color:#f8f8f2">&lt;/</span><span class="token tag" style="color:#f92672">template</span><span class="token tag punctuation" style="color:#f8f8f2">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token tag punctuation" style="color:#f8f8f2">&lt;</span><span class="token tag" style="color:#f92672">script</span><span class="token tag" style="color:#f92672"> </span><span class="token tag attr-name" style="color:#a6e22e !important">setup</span><span class="token tag" style="color:#f92672"> </span><span class="token tag attr-name" style="color:#a6e22e !important">lang</span><span class="token tag attr-value punctuation attr-equals" style="color:#f8f8f2">=</span><span class="token tag attr-value punctuation" style="color:#f8f8f2">&quot;</span><span class="token tag attr-value" style="color:#f92672">ts</span><span class="token tag attr-value punctuation" style="color:#f8f8f2">&quot;</span><span class="token tag punctuation" style="color:#f8f8f2">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript"></span><span class="token script language-javascript keyword module" style="color:#66d9ef">import</span><span class="token script language-javascript"> </span><span class="token script language-javascript imports punctuation" style="color:#f8f8f2">{</span><span class="token script language-javascript imports"> ref</span><span class="token script language-javascript imports punctuation" style="color:#f8f8f2">,</span><span class="token script language-javascript imports"> onMounted</span><span class="token script language-javascript imports punctuation" style="color:#f8f8f2">,</span><span class="token script language-javascript imports"> watch</span><span class="token script language-javascript imports punctuation" style="color:#f8f8f2">,</span><span class="token script language-javascript imports"> </span><span class="token script language-javascript imports maybe-class-name">Ref</span><span class="token script language-javascript imports">  </span><span class="token script language-javascript imports punctuation" style="color:#f8f8f2">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword module" style="color:#66d9ef">from</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#a6e22e">&#x27;vue&#x27;</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript"></span><span class="token script language-javascript keyword module" style="color:#66d9ef">import</span><span class="token script language-javascript"> </span><span class="token script language-javascript imports punctuation" style="color:#f8f8f2">{</span><span class="token script language-javascript imports"> callAdminForthApi </span><span class="token script language-javascript imports punctuation" style="color:#f8f8f2">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword module" style="color:#66d9ef">from</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#a6e22e">&#x27;@/utils&#x27;</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript"></span><span class="token script language-javascript keyword module" style="color:#66d9ef">import</span><span class="token script language-javascript"> type </span><span class="token script language-javascript punctuation" style="color:#f8f8f2">{</span><span class="token script language-javascript"> </span><span class="token script language-javascript maybe-class-name">AdminForthColumnCommon</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#f8f8f2">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword module" style="color:#66d9ef">from</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#a6e22e">&#x27;@/types/Common&#x27;</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript"></span><span class="token script language-javascript keyword module" style="color:#66d9ef">import</span><span class="token script language-javascript"> </span><span class="token script language-javascript imports maybe-class-name">SuggestionInput</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword module" style="color:#66d9ef">from</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#a6e22e">&#x27;vue-suggestion-input&#x27;</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript"></span><span class="token script language-javascript keyword module" style="color:#66d9ef">import</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#a6e22e">&#x27;vue-suggestion-input/dist/style.css&#x27;</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript"></span><span class="token script language-javascript keyword" style="color:#66d9ef">const</span><span class="token script language-javascript"> props </span><span class="token script language-javascript operator" style="color:#66d9ef">=</span><span class="token script language-javascript"> defineProps</span><span class="token script language-javascript operator" style="color:#66d9ef">&lt;</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript">  </span><span class="token script language-javascript literal-property property" style="color:#f92672">column</span><span class="token script language-javascript operator" style="color:#66d9ef">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript maybe-class-name">AdminForthColumnCommon</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript">  </span><span class="token script language-javascript literal-property property" style="color:#f92672">record</span><span class="token script language-javascript operator" style="color:#66d9ef">:</span><span class="token script language-javascript"> any</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript">  </span><span class="token script language-javascript literal-property property" style="color:#f92672">meta</span><span class="token script language-javascript operator" style="color:#66d9ef">:</span><span class="token script language-javascript"> any</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:#f8f8f2">}</span><span class="token script language-javascript operator" style="color:#66d9ef">&gt;</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">(</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">)</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript"></span><span class="token script language-javascript keyword" style="color:#66d9ef">const</span><span class="token script language-javascript"> emit </span><span class="token script language-javascript operator" style="color:#66d9ef">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#e6db74">defineEmits</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">(</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">[</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript">  </span><span class="token script language-javascript string" style="color:#a6e22e">&#x27;update:value&#x27;</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:#f8f8f2">]</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">)</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript"></span><span class="token script language-javascript keyword" style="color:#66d9ef">const</span><span class="token script language-javascript"> </span><span class="token script language-javascript literal-property property" style="color:#f92672">currentValue</span><span class="token script language-javascript operator" style="color:#66d9ef">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript maybe-class-name">Ref</span><span class="token script language-javascript operator" style="color:#66d9ef">&lt;</span><span class="token script language-javascript">string</span><span class="token script language-javascript operator" style="color:#66d9ef">&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#66d9ef">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#e6db74">ref</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">(</span><span class="token script language-javascript string" style="color:#a6e22e">&#x27;&#x27;</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">)</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript"></span><span class="token script language-javascript function" style="color:#e6db74">onMounted</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">(</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">(</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:#66d9ef">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#f8f8f2">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript">  currentValue</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">.</span><span class="token script language-javascript property-access">value</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#66d9ef">=</span><span class="token script language-javascript"> props</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">.</span><span class="token script language-javascript property-access">record</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">[</span><span class="token script language-javascript">props</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">.</span><span class="token script language-javascript property-access">column</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">.</span><span class="token script language-javascript property-access">name</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">]</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#66d9ef">||</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#a6e22e">&#x27;&#x27;</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:#f8f8f2">}</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">)</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript"></span><span class="token script language-javascript function" style="color:#e6db74">watch</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">(</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">(</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:#66d9ef">=&gt;</span><span class="token script language-javascript"> currentValue</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">.</span><span class="token script language-javascript property-access">value</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#f8f8f2">(</span><span class="token script language-javascript parameter">value</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:#66d9ef">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#f8f8f2">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript">  </span><span class="token script language-javascript function" style="color:#e6db74">emit</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">(</span><span class="token script language-javascript string" style="color:#a6e22e">&#x27;update:value&#x27;</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">,</span><span class="token script language-javascript"> value</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">)</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:#f8f8f2">}</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">)</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript"></span><span class="token script language-javascript function" style="color:#e6db74">watch</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">(</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">(</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:#66d9ef">=&gt;</span><span class="token script language-javascript"> props</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">.</span><span class="token script language-javascript property-access">record</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#f8f8f2">(</span><span class="token script language-javascript parameter">value</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:#66d9ef">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#f8f8f2">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript">  currentValue</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">.</span><span class="token script language-javascript property-access">value</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#66d9ef">=</span><span class="token script language-javascript"> value</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">[</span><span class="token script language-javascript">props</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">.</span><span class="token script language-javascript property-access">column</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">.</span><span class="token script language-javascript property-access">name</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">]</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#66d9ef">||</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#a6e22e">&#x27;&#x27;</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:#f8f8f2">}</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">)</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript"></span><span class="token script language-javascript keyword" style="color:#66d9ef">async</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#66d9ef">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#e6db74">complete</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">(</span><span class="token script language-javascript parameter literal-property property" style="color:#f92672">textBeforeCursor</span><span class="token script language-javascript parameter operator" style="color:#66d9ef">:</span><span class="token script language-javascript parameter"> string</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#f8f8f2">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword" style="color:#66d9ef">const</span><span class="token script language-javascript"> res </span><span class="token script language-javascript operator" style="color:#66d9ef">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword control-flow" style="color:#66d9ef">await</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#e6db74">callAdminForthApi</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">(</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript">      </span><span class="token script language-javascript literal-property property" style="color:#f92672">path</span><span class="token script language-javascript operator" style="color:#66d9ef">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token script language-javascript template-string string" style="color:#a6e22e">/plugin/</span><span class="token script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">${</span><span class="token script language-javascript template-string interpolation">props</span><span class="token script language-javascript template-string interpolation punctuation" style="color:#f8f8f2">.</span><span class="token script language-javascript template-string interpolation property-access">meta</span><span class="token script language-javascript template-string interpolation punctuation" style="color:#f8f8f2">.</span><span class="token script language-javascript template-string interpolation property-access">pluginInstanceId</span><span class="token script language-javascript template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">}</span><span class="token script language-javascript template-string string" style="color:#a6e22e">/doComplete</span><span class="token script language-javascript template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript">      </span><span class="token script language-javascript literal-property property" style="color:#f92672">method</span><span class="token script language-javascript operator" style="color:#66d9ef">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#a6e22e">&#x27;POST&#x27;</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript">      </span><span class="token script language-javascript literal-property property" style="color:#f92672">body</span><span class="token script language-javascript operator" style="color:#66d9ef">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#f8f8f2">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:#f92672">record</span><span class="token script language-javascript operator" style="color:#66d9ef">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#f8f8f2">{</span><span class="token script language-javascript spread operator" style="color:#66d9ef">...</span><span class="token script language-javascript">props</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">.</span><span class="token script language-javascript property-access">record</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#f8f8f2">[</span><span class="token script language-javascript">props</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">.</span><span class="token script language-javascript property-access">column</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">.</span><span class="token script language-javascript property-access">name</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">]</span><span class="token script language-javascript operator" style="color:#66d9ef">:</span><span class="token script language-javascript"> textBeforeCursor</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">}</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript">      </span><span class="token script language-javascript punctuation" style="color:#f8f8f2">}</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript">  </span><span class="token script language-javascript punctuation" style="color:#f8f8f2">}</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">)</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword control-flow" style="color:#66d9ef">return</span><span class="token script language-javascript"> res</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">.</span><span class="token script language-javascript property-access">completion</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript"></span><span class="token script language-javascript punctuation" style="color:#f8f8f2">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#f8f8f2">&lt;/</span><span class="token tag" style="color:#f92672">script</span><span class="token tag punctuation" style="color:#f8f8f2">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>As you can see we call API endpoint <code>/plugin/${props.meta.pluginInstanceId}/doComplete</code> to get completion.</p>
<blockquote>
<p>For all your API calls from your own plugins we recommend to use same url format which includes pluginInstanceId. This way you can be sure that your API calls are unique for each plugin installation.</p>
</blockquote>
<p>Let&#x27;s define API endpoint in our plugin:</p>
<div class="language-ts codeBlockContainer_zbXh theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockTitle_VeI8">./af-plugin-chatgpt/index.ts</div><div class="codeBlockContent_RvPW"><pre tabindex="0" class="prism-code language-ts codeBlock_hldk thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token function" style="color:#e6db74">setupEndpoints</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">server</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> IHttpServer</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    server</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">endpoint</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      method</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;POST&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#f8f8f2"><span class="token plain">      path</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token template-string string" style="color:#a6e22e">/plugin/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">${</span><span class="token template-string interpolation keyword" style="color:#66d9ef">this</span><span class="token template-string interpolation punctuation" style="color:#f8f8f2">.</span><span class="token template-string interpolation">pluginInstanceId</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">}</span><span class="token template-string string" style="color:#a6e22e">/example</span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">      path</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token template-string string" style="color:#a6e22e">/plugin/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">${</span><span class="token template-string interpolation keyword" style="color:#66d9ef">this</span><span class="token template-string interpolation punctuation" style="color:#f8f8f2">.</span><span class="token template-string interpolation">pluginInstanceId</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">}</span><span class="token template-string string" style="color:#a6e22e">/doComplete</span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token function-variable function" style="color:#e6db74">handler</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"> body </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"> name </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> body</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"> hey</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token template-string string" style="color:#a6e22e">Hello </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">}</span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"> record </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> body</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">let</span><span class="token plain"> currentVal </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> record</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token keyword" style="color:#66d9ef">this</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">fieldName</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">const</span><span class="token plain"> promptLimit </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">500</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">currentVal </span><span class="token operator" style="color:#66d9ef">&amp;&amp;</span><span class="token plain"> currentVal</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">length </span><span class="token operator" style="color:#66d9ef">&gt;</span><span class="token plain"> promptLimit</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">          currentVal </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> currentVal</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">slice</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token operator" style="color:#66d9ef">-</span><span class="token plain">promptLimit</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">const</span><span class="token plain"> resLabel </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">this</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">resourceConfig</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">label</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">let</span><span class="token plain"> content</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">currentVal</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">          content </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token template-string string" style="color:#a6e22e">Continue writing for text/string field &quot;</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">${</span><span class="token template-string interpolation keyword" style="color:#66d9ef">this</span><span class="token template-string interpolation punctuation" style="color:#f8f8f2">.</span><span class="token template-string interpolation">options</span><span class="token template-string interpolation punctuation" style="color:#f8f8f2">.</span><span class="token template-string interpolation">fieldName</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">}</span><span class="token template-string string" style="color:#a6e22e">&quot; in the table &quot;</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">${</span><span class="token template-string interpolation">resLabel</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">}</span><span class="token template-string string" style="color:#a6e22e">&quot;\n</span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">+</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">              </span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token template-string string" style="color:#a6e22e">Current field value: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">${</span><span class="token template-string interpolation">currentVal</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">}</span><span class="token template-string string" style="color:#a6e22e">\n</span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">+</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">              </span><span class="token string" style="color:#a6e22e">&quot;Don&#x27;t talk to me. Just write text. No quotes. Don&#x27;t repeat current field value, just write completion\n&quot;</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">          content </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token template-string string" style="color:#a6e22e">Fill text/string field &quot;</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">${</span><span class="token template-string interpolation keyword" style="color:#66d9ef">this</span><span class="token template-string interpolation punctuation" style="color:#f8f8f2">.</span><span class="token template-string interpolation">options</span><span class="token template-string interpolation punctuation" style="color:#f8f8f2">.</span><span class="token template-string interpolation">fieldName</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">}</span><span class="token template-string string" style="color:#a6e22e">&quot; in the table &quot;</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">${</span><span class="token template-string interpolation">resLabel</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">}</span><span class="token template-string string" style="color:#a6e22e">&quot;\n</span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">+</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">              </span><span class="token string" style="color:#a6e22e">&quot;Be short, clear and precise. No quotes. Don&#x27;t talk to me. Just write text\n&quot;</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">const</span><span class="token plain"> resp </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">await</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">fetch</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&#x27;https://api.openai.com/v1/chat/completions&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">          method</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;POST&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">          headers</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token string-property property" style="color:#f92672">&#x27;Content-Type&#x27;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;application/json&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token string-property property" style="color:#f92672">&#x27;Authorization&#x27;</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token template-string string" style="color:#a6e22e">Bearer </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">${</span><span class="token template-string interpolation keyword" style="color:#66d9ef">this</span><span class="token template-string interpolation punctuation" style="color:#f8f8f2">.</span><span class="token template-string interpolation">options</span><span class="token template-string interpolation punctuation" style="color:#f8f8f2">.</span><span class="token template-string interpolation">openAiApiKey</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">}</span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">          </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">          body</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token constant" style="color:#e6db74">JSON</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">stringify</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">            model</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">this</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">model </span><span class="token operator" style="color:#66d9ef">||</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;gpt-4o-mini&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">            messages</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"> role</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;user&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> content</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">            temperature</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">0.7</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">            max_tokens</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">this</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">expert</span><span class="token operator" style="color:#66d9ef">?.</span><span class="token plain">maxTokens </span><span class="token operator" style="color:#66d9ef">||</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">50</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">            stop</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token string" style="color:#a6e22e">&#x27;.&#x27;</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">          </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">const</span><span class="token plain"> data </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">await</span><span class="token plain"> resp</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">json</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token operator" style="color:#66d9ef">!</span><span class="token plain">data</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">choices</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">              </span><span class="token keyword" style="color:#66d9ef">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">new</span><span class="token plain"> </span><span class="token class-name" style="color:#e6db74">Error</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token template-string string" style="color:#a6e22e">Wrong response from OpenAI </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">${</span><span class="token template-string interpolation constant" style="color:#e6db74">JSON</span><span class="token template-string interpolation punctuation" style="color:#f8f8f2">.</span><span class="token template-string interpolation function" style="color:#e6db74">stringify</span><span class="token template-string interpolation punctuation" style="color:#f8f8f2">(</span><span class="token template-string interpolation">data</span><span class="token template-string interpolation punctuation" style="color:#f8f8f2">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">}</span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">let</span><span class="token plain"> suggestion </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">choices</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token number" style="color:#ae81ff">0</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">message</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">content </span><span class="token operator" style="color:#66d9ef">+</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">          data</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">choices</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token number" style="color:#ae81ff">0</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">finish_reason </span><span class="token operator" style="color:#66d9ef">===</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;stop&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">?</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token keyword" style="color:#66d9ef">this</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">columnType </span><span class="token operator" style="color:#66d9ef">===</span><span class="token plain"> AdminForthDataTypes</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token constant" style="color:#e6db74">TEXT</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">?</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;. &#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">          </span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">suggestion</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">startsWith</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">currentVal</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">          suggestion </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> suggestion</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">slice</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">currentVal</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">length</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">suggestion</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">startsWith</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">currentVal</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">          suggestion </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> suggestion</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">slice</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">currentVal</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">length</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">const</span><span class="token plain"> wordsList </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> suggestion</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">split</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&#x27; &#x27;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">map</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">w</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> i</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">          </span><span class="token keyword" style="color:#66d9ef">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">i </span><span class="token operator" style="color:#66d9ef">===</span><span class="token plain"> suggestion</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">split</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&#x27; &#x27;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">length </span><span class="token operator" style="color:#66d9ef">-</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">1</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">?</span><span class="token plain"> w </span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> w </span><span class="token operator" style="color:#66d9ef">+</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27; &#x27;</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#66d9ef">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"> completion</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> wordsList </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre></div></div>
<p>Now we have to set custom input on create and edit pages for field which user defined in fieldName:</p>
<div class="language-ts codeBlockContainer_zbXh theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockTitle_VeI8">./af-plugin-chatgpt/index.ts</div><div class="codeBlockContent_RvPW"><pre tabindex="0" class="prism-code language-ts codeBlock_hldk thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">export</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">default</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">class</span><span class="token plain"> </span><span class="token class-name" style="color:#e6db74">ChatGptPlugin</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#e6db74">AdminForthPlugin</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  options</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> PluginOptions</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">  resourceConfig</span><span class="token operator" style="color:#66d9ef">!</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> AdminForthResource</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">  columnType</span><span class="token operator" style="color:#66d9ef">!</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> AdminForthDataTypes</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token operator" style="color:#66d9ef">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#66d9ef">async</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">modifyResourceConfig</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">adminforth</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> IAdminForth</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> resourceConfig</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> AdminForthResource</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">super</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">modifyResourceConfig</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">adminforth</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> resourceConfig</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token comment" style="color:#8292a2;font-style:italic">// ensure that column exists</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">const</span><span class="token plain"> column </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> resourceConfig</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">columns</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">find</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">f </span><span class="token operator" style="color:#66d9ef">=&gt;</span><span class="token plain"> f</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">name </span><span class="token operator" style="color:#66d9ef">===</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">this</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">fieldName</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token operator" style="color:#66d9ef">!</span><span class="token plain">column</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token keyword" style="color:#66d9ef">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">new</span><span class="token plain"> </span><span class="token class-name" style="color:#e6db74">Error</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token template-string string" style="color:#a6e22e">Field </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">${</span><span class="token template-string interpolation keyword" style="color:#66d9ef">this</span><span class="token template-string interpolation punctuation" style="color:#f8f8f2">.</span><span class="token template-string interpolation">options</span><span class="token template-string interpolation punctuation" style="color:#f8f8f2">.</span><span class="token template-string interpolation">fieldName</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">}</span><span class="token template-string string" style="color:#a6e22e"> not found in resource </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">${</span><span class="token template-string interpolation">resourceConfig</span><span class="token template-string interpolation punctuation" style="color:#f8f8f2">.</span><span class="token template-string interpolation">label</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">}</span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token operator" style="color:#66d9ef">!</span><span class="token plain">column</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">components</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">      column</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">components </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">const</span><span class="token plain"> filed </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">      file</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">this</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">componentPath</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&#x27;completionInput.vue&#x27;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">      meta</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        pluginInstanceId</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">this</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">pluginInstanceId</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        fieldName</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">this</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">fieldName</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">        debounceTime</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">300</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    column</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">components</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">create </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> filed</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    column</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">components</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">edit </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> filed</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">this</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">columnType </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> column</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">type</span><span class="token operator" style="color:#66d9ef">!</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>Additionally we should check that column type is string or text, otherwise our input will not work properly.
From first sight we can make this validation in modifyResourceConfig method, but it is not good idea because we can&#x27;t be sure that column type is
defined and known at this stage. If user defined it manually then it will be there, but if type is auto-discovered then it will be undefined at this stage.</p>
<p>That is why we will use <code>validateConfigAfterDiscover</code> method:</p>
<div class="language-ts codeBlockContainer_zbXh theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockTitle_VeI8">./af-plugin-chatgpt/index.ts</div><div class="codeBlockContent_RvPW"><pre tabindex="0" class="prism-code language-ts codeBlock_hldk thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token function" style="color:#e6db74">validateConfigAfterDiscover</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">adminforth</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> IAdminForth</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> resourceConfig</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> AdminForthResource</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">const</span><span class="token plain"> column </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">this</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">resourceConfig</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">columns</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">find</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">f </span><span class="token operator" style="color:#66d9ef">=&gt;</span><span class="token plain"> f</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">name </span><span class="token operator" style="color:#66d9ef">===</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">this</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">fieldName</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token operator" style="color:#66d9ef">!</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token plain">AdminForthDataTypes</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token constant" style="color:#e6db74">STRING</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> AdminForthDataTypes</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token constant" style="color:#e6db74">TEXT</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">includes</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">column</span><span class="token operator" style="color:#66d9ef">!</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">type</span><span class="token operator" style="color:#66d9ef">!</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token keyword" style="color:#66d9ef">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">new</span><span class="token plain"> </span><span class="token class-name" style="color:#e6db74">Error</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token template-string string" style="color:#a6e22e">Field </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">${</span><span class="token template-string interpolation keyword" style="color:#66d9ef">this</span><span class="token template-string interpolation punctuation" style="color:#f8f8f2">.</span><span class="token template-string interpolation">options</span><span class="token template-string interpolation punctuation" style="color:#f8f8f2">.</span><span class="token template-string interpolation">fieldName</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">}</span><span class="token template-string string" style="color:#a6e22e"> should be string or text type, but it is </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">${</span><span class="token template-string interpolation">column</span><span class="token template-string interpolation operator" style="color:#66d9ef">!</span><span class="token template-string interpolation punctuation" style="color:#f8f8f2">.</span><span class="token template-string interpolation keyword" style="color:#66d9ef">type</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">}</span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token comment" style="color:#8292a2;font-style:italic">// any validation better to do here e.g. because bundleNow might no have enough environment</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token operator" style="color:#66d9ef">!</span><span class="token keyword" style="color:#66d9ef">this</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">openAiApiKey</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token keyword" style="color:#66d9ef">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">new</span><span class="token plain"> </span><span class="token class-name" style="color:#e6db74">Error</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&#x27;OPENAI_API_KEY is required&#x27;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre></div></div>
<p>Finally, since we want to support multiple installations on one resource (e.g. one plugin installation for <code>title</code> field and another for <code>description</code> field), we have to define plugin instance unique representation. Best idea in this case to use field name which will be different for each installation:</p>
<div class="language-ts codeBlockContainer_zbXh theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockTitle_VeI8">./af-plugin-chatgpt/index.ts</div><div class="codeBlockContent_RvPW"><pre tabindex="0" class="prism-code language-ts codeBlock_hldk thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token function" style="color:#e6db74">instanceUniqueRepresentation</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">pluginOptions</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token builtin" style="color:#e6db74">any</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token builtin" style="color:#e6db74">string</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">return</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">${</span><span class="token template-string interpolation">pluginOptions</span><span class="token template-string interpolation punctuation" style="color:#f8f8f2">.</span><span class="token template-string interpolation">fieldName</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">}</span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-remove-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">return</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token template-string string" style="color:#a6e22e">single</span><span class="token template-string template-punctuation string" style="color:#a6e22e">`</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre></div></div>
<p>To compile plugin run:</p>
<div class="language-bash codeBlockContainer_zbXh theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_RvPW"><pre tabindex="0" class="prism-code language-bash codeBlock_hldk thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#f8f8f2"><span class="token function" style="color:#e6db74">npm</span><span class="token plain"> run build</span><br></span></code></pre></div></div>
<p>You can also publish your plugin to npm using <code>npm publish</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_fMI7" id="installation-of-plugin">Installation of plugin<a href="#installation-of-plugin" class="hash-link" aria-label="Direct link to Installation of plugin" title="Direct link to Installation of plugin" translate="no">​</a></h2>
<p>If you want to test your plugin locally before publishing, enter plugin dir and run:</p>
<div class="language-bash codeBlockContainer_zbXh theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_RvPW"><pre tabindex="0" class="prism-code language-bash codeBlock_hldk thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#f8f8f2"><span class="token builtin class-name" style="color:#e6db74">cd</span><span class="token plain"> af-plugin-chatgpt</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#e6db74">npm</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">link</span><br></span></code></pre></div></div>
<p>Then enter your AdminForth project and run:</p>
<div class="language-bash codeBlockContainer_zbXh theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_RvPW"><pre tabindex="0" class="prism-code language-bash codeBlock_hldk thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#f8f8f2"><span class="token function" style="color:#e6db74">npm</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">link</span><span class="token plain"> af-plugin-chatgpt</span><br></span></code></pre></div></div>
<p>Now  in your app <code>index.ts</code> file:</p>
<div class="language-ts codeBlockContainer_zbXh theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockTitle_VeI8">./index.ts</div><div class="codeBlockContent_RvPW"><pre tabindex="0" class="prism-code language-ts codeBlock_hldk thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">import</span><span class="token plain"> ChatGptPlugin </span><span class="token keyword" style="color:#66d9ef">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;af-plugin-chatgpt&#x27;</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token operator" style="color:#66d9ef">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  resourceId</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;aparts&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token operator" style="color:#66d9ef">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  plugins</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token operator" style="color:#66d9ef">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">new</span><span class="token plain"> </span><span class="token class-name" style="color:#e6db74">ChatGptPlugin</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      openAiApiKey</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> process</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">env</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token constant" style="color:#e6db74">OPENAI_API_KEY</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">as</span><span class="token plain"> </span><span class="token builtin" style="color:#e6db74">string</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      fieldName</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;title&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">new</span><span class="token plain"> </span><span class="token class-name" style="color:#e6db74">ChatGptPlugin</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      openAiApiKey</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> process</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">env</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token constant" style="color:#e6db74">OPENAI_API_KEY</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">as</span><span class="token plain"> </span><span class="token builtin" style="color:#e6db74">string</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">      fieldName</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;description&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>Go to <a href="https://platform.openai.com/" target="_blank" rel="noopener noreferrer">https://platform.openai.com/</a>, go to Dashboard -&gt; API keys -&gt; Create new secret key. Paste value in your <code>.env</code> file OPENAI_API_KEY=your_key</p>
<blockquote>
<p>☝️ Using <code>npm link</code> approach still requires <code>npm run build</code> in plugin dir after each change because plugin entry point is defined as <code>dist/index.js</code> in
<code>package.json</code> file. To speed up plugin development you can also don&#x27;t use <code>npm link</code> and just import plugin main file from your demo file:</p>
<div class="language-text codeBlockContainer_zbXh theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_RvPW"><pre tabindex="0" class="prism-code language-text codeBlock_hldk thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#f8f8f2"><span class="token plain">import ChatGptPlugin from &#x27;&lt;path to af plugin&gt;/af-plugin-chatgpt/index.js&#x27;;</span><br></span></code></pre></div></div>
</blockquote>
<blockquote>
<p>🎓 Homework 1: Extend <code>expert</code> settings section to include next parameters: <code>temperature</code>, <code>promptLimit</code>, <code>debounceTime</code>,</p>
</blockquote>
<blockquote>
<p>🎓 Homework 2: Plugin does not pass record other values to Chat GPT which can help to create better prompts with context understanding.
Try to adjust prompt to include other record values. Keep in mind that longer prompts can be more expensive and slower, so should smartly limit prompt length.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_fMI7" id="configuring-plugin-activation-order">Configuring plugin activation order<a href="#configuring-plugin-activation-order" class="hash-link" aria-label="Direct link to Configuring plugin activation order" title="Direct link to Configuring plugin activation order" translate="no">​</a></h2>
<p>By default all plugins are activated in random order.</p>
<p>Rarely, it might happen that your plugin somehow depends on other plugins (e.g. default AdminForth rich text editor plugin depends on AdminForth upload file to support images in text).</p>
<p>To control plugin activation order you can set <code>activationOrder</code> property in plugin class:</p>
<div class="language-ts codeBlockContainer_zbXh theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockTitle_VeI8">./af-plugin-chatgpt/index.ts</div><div class="codeBlockContent_RvPW"><pre tabindex="0" class="prism-code language-ts codeBlock_hldk thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">export</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">default</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">class</span><span class="token plain"> </span><span class="token class-name" style="color:#e6db74">ChatGptPlugin</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">extends</span><span class="token plain"> </span><span class="token class-name" style="color:#e6db74">AdminForthPlugin</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  options</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> PluginOptions</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  activationOrder </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">100</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token operator" style="color:#66d9ef">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre></div></div>
<p>Default value of activationOrder for most plugins is <code>0</code>. Plugins with higher activationOrder will be activated later.</p>
<p>To ensure that plugin activates before some other plugins set <code>activationOrder</code> to negative value.</p>
<h2 class="anchor anchorWithStickyNavbar_fMI7" id="splitting-frontend-logic-into-multiple-files">Splitting frontend logic into multiple files<a href="#splitting-frontend-logic-into-multiple-files" class="hash-link" aria-label="Direct link to Splitting frontend logic into multiple files" title="Direct link to Splitting frontend logic into multiple files" translate="no">​</a></h2>
<p>In case your plugin <code>.vue</code> files getting too big, you can split them into multiple files (components)
Unfortunately when developing plugin, you should register such components(files) manually by calling <code>componentPath</code> in <code>modifyResourceConfig</code> method:</p>
<div class="language-ts codeBlockContainer_zbXh theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockTitle_VeI8">./af-plugin-chatgpt/index.ts</div><div class="codeBlockContent_RvPW"><pre tabindex="0" class="prism-code language-ts codeBlock_hldk thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#66d9ef">async</span><span class="token plain"> </span><span class="token function" style="color:#e6db74">modifyResourceConfig</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">adminforth</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> IAdminForth</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> resourceConfig</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> AdminForthResource</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">super</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">modifyResourceConfig</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">adminforth</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> resourceConfig</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token comment" style="color:#8292a2;font-style:italic">// we just call componentPath method to register component, not using it&#x27;s result</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token keyword" style="color:#66d9ef">this</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">componentPath</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#a6e22e">&#x27;subComponent.vue&#x27;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre></div></div>
<p>Now to import <code>subComponent.vue</code> in <code>completionInput.vue</code> file you should use <code>@@/plugins/&lt;plugin-class-name&gt;/subComponent.vue</code> path:</p>
<div class="language-html codeBlockContainer_zbXh theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockTitle_VeI8">./af-plugin-chatgpt/custom/completionInput.vue</div><div class="codeBlockContent_RvPW"><pre tabindex="0" class="prism-code language-html codeBlock_hldk thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#f8f8f2"><span class="token tag punctuation" style="color:#f8f8f2">&lt;</span><span class="token tag" style="color:#f92672">template</span><span class="token tag punctuation" style="color:#f8f8f2">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  ...</span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token tag punctuation" style="color:#f8f8f2">&lt;</span><span class="token tag" style="color:#f92672">SubComponent</span><span class="token tag" style="color:#f92672"> </span><span class="token tag punctuation" style="color:#f8f8f2">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  ...</span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token tag punctuation" style="color:#f8f8f2">&lt;/</span><span class="token tag" style="color:#f92672">template</span><span class="token tag punctuation" style="color:#f8f8f2">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token tag punctuation" style="color:#f8f8f2">&lt;</span><span class="token tag" style="color:#f92672">script</span><span class="token tag" style="color:#f92672"> </span><span class="token tag attr-name" style="color:#a6e22e !important">setup</span><span class="token tag" style="color:#f92672"> </span><span class="token tag attr-name" style="color:#a6e22e !important">lang</span><span class="token tag attr-value punctuation attr-equals" style="color:#f8f8f2">=</span><span class="token tag attr-value punctuation" style="color:#f8f8f2">&quot;</span><span class="token tag attr-value" style="color:#f92672">ts</span><span class="token tag attr-value punctuation" style="color:#f8f8f2">&quot;</span><span class="token tag punctuation" style="color:#f8f8f2">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token script language-javascript"></span><span class="token script language-javascript keyword module" style="color:#66d9ef">import</span><span class="token script language-javascript"> </span><span class="token script language-javascript imports maybe-class-name">SubComponent</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword module" style="color:#66d9ef">from</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#a6e22e">&#x27;@@/plugins/ChatGptPlugin/subComponent.vue&#x27;</span><span class="token script language-javascript punctuation" style="color:#f8f8f2">;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#f8f8f2">&lt;/</span><span class="token tag" style="color:#f92672">script</span><span class="token tag punctuation" style="color:#f8f8f2">&gt;</span><br></span></code></pre></div></div>
<p>Pay attention that <code>ChatGptPlugin</code> is a class name of your plugin so it should be used in path.</p>
<h2 class="anchor anchorWithStickyNavbar_fMI7" id="using-adapters">Using Adapters<a href="#using-adapters" class="hash-link" aria-label="Direct link to Using Adapters" title="Direct link to Using Adapters" translate="no">​</a></h2>
<p>There are couple of adapter interfaces in AdminForth like <code>EmailAdapter</code> for sending emails and <code>CompletionAdapter</code>.
Adapter is a way to provide same function from different vendors. For example plugin created in this guide uses exactly OpenAI API to get completion.
But in fact OpenAI is not only one API provider for completion, so <code>CompletionAdapter</code> interface is created to be easily extended.
Here is code from AdminForth:</p>
<div class="language-ts codeBlockContainer_zbXh theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockContent_RvPW"><pre tabindex="0" class="prism-code language-ts codeBlock_hldk thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#66d9ef">export</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#e6db74">CompletionAdapter</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token function" style="color:#e6db74">validate</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token function" style="color:#e6db74">complete</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    content</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token builtin" style="color:#e6db74">string</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    stop</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token builtin" style="color:#e6db74">string</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    maxTokens</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token builtin" style="color:#e6db74">number</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token builtin" style="color:#e6db74">Promise</span><span class="token operator" style="color:#66d9ef">&lt;</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    content</span><span class="token operator" style="color:#66d9ef">?</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token builtin" style="color:#e6db74">string</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    finishReason</span><span class="token operator" style="color:#66d9ef">?</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token builtin" style="color:#e6db74">string</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    error</span><span class="token operator" style="color:#66d9ef">?</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token builtin" style="color:#e6db74">string</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token operator" style="color:#66d9ef">&gt;</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre></div></div>
<p>To use adapter in plugin you should define it in plugin options:</p>
<div class="language-ts codeBlockContainer_zbXh theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockTitle_VeI8">./af-plugin-any-complete/types.ts</div><div class="codeBlockContent_RvPW"><pre tabindex="0" class="prism-code language-ts codeBlock_hldk thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"> CompletionAdapter </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&quot;adminforth&quot;</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#66d9ef">export</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">interface</span><span class="token plain"> </span><span class="token class-name" style="color:#e6db74">PluginOptions</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token operator" style="color:#66d9ef">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token doc-comment comment" style="color:#8292a2;font-style:italic">/**</span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token doc-comment comment" style="color:#8292a2;font-style:italic">   * Adapter for completion</span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token doc-comment comment" style="color:#8292a2;font-style:italic">   */</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">  adapter</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> CompletionAdapter</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre></div></div>
<p>Then, in your plugin you should call <code>this.options.validate()</code>, this function will throw error if adminforth app developer did not pass
required parameter (e.g. API token for OpenAI). You can do it in <code>modifyResourceConfig</code> but, then it will be called at build time (e.g. in Dockerfile). However build time not always has access to all environment variables including <code>OPENAI_API_KEY</code>.</p>
<p>So we recommend calling validation in <code>validateConfigAfterDiscover</code> method because it called only in runtime on app start and not in build time.</p>
<div class="language-ts codeBlockContainer_zbXh theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockTitle_VeI8">./af-plugin-any-complete/index.ts</div><div class="codeBlockContent_RvPW"><pre tabindex="0" class="prism-code language-ts codeBlock_hldk thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token function" style="color:#e6db74">validateConfigAfterDiscover</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">adminforth</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> IAdminForth</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> resourceConfig</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> AdminForthResource</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line code-block-diff-add-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#66d9ef">this</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">adapter</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">validate</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token operator" style="color:#66d9ef">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre></div></div>
<p>If some issue with config will happen, validate method will throw error and instance will be crashed so AdminForth app developer will see error message in console and will have to fix it before starting app.</p>
<p>Now you can simply use adapter:</p>
<div class="language-ts codeBlockContainer_zbXh theme-code-block" style="--prism-color:#f8f8f2;--prism-background-color:#272822"><div class="codeBlockTitle_VeI8">./af-plugin-any-complete/index.ts</div><div class="codeBlockContent_RvPW"><pre tabindex="0" class="prism-code language-ts codeBlock_hldk thin-scrollbar" style="color:#f8f8f2;background-color:#272822"><code class="codeBlockLines_aHhF"><span class="token-line" style="color:#f8f8f2"><span class="token function-variable function" style="color:#e6db74">handler</span><span class="token operator" style="color:#66d9ef">:</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#66d9ef">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token operator" style="color:#66d9ef">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#66d9ef">const</span><span class="token plain"> resp </span><span class="token operator" style="color:#66d9ef">=</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">await</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">this</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">adapter</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#e6db74">complete</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">content</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token string" style="color:#a6e22e">&#x27;.&#x27;</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token keyword" style="color:#66d9ef">this</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">options</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">expert</span><span class="token operator" style="color:#66d9ef">?.</span><span class="token plain">maxTokens </span><span class="token operator" style="color:#66d9ef">||</span><span class="token plain"> </span><span class="token number" style="color:#ae81ff">50</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token operator" style="color:#66d9ef">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><br></span></code></pre></div></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/tutorial/Plugins/universal-filters/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Universal Search</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_zXaw thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#concepts" class="table-of-contents__link toc-highlight">Concepts</a></li><li><a href="#boilerplate" class="table-of-contents__link toc-highlight">Boilerplate</a></li><li><a href="#creating-plugin-logic" class="table-of-contents__link toc-highlight">Creating plugin logic</a></li><li><a href="#installation-of-plugin" class="table-of-contents__link toc-highlight">Installation of plugin</a></li><li><a href="#configuring-plugin-activation-order" class="table-of-contents__link toc-highlight">Configuring plugin activation order</a></li><li><a href="#splitting-frontend-logic-into-multiple-files" class="table-of-contents__link toc-highlight">Splitting frontend logic into multiple files</a></li><li><a href="#using-adapters" class="table-of-contents__link toc-highlight">Using Adapters</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/tutorial/gettingStarted/">Tutorial</a></li><li class="footer__item"><a href="https://demo.adminforth.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Live Demo</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/api/">API</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/archive/">Blog Archive</a></li><li class="footer__item"><a class="footer__link-item" href="/search/">Find anything</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://devforth.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">DevForth.io<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_wSz0"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://devforth.io/contact" target="_blank" rel="noopener noreferrer" class="footer__link-item">We can develop admin panel for your project<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_wSz0"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/devforth/adminforth" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_wSz0"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Devforth sp. z o.o.</div></div></div></footer></div>
</body>
</html>